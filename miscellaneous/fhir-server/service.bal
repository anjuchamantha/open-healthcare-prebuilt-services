// Copyright (c) 2025, WSO2 LLC. (http://www.wso2.com).

// WSO2 LLC. licenses this file to you under the Apache License,
// Version 2.0 (the "License"); you may not use this file except
// in compliance with the License.
// You may obtain a copy of the License at

// http://www.apache.org/licenses/LICENSE-2.0

// Unless required by applicable law or agreed to in writing,
// software distributed under the License is distributed on an
// "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
// KIND, either express or implied.  See the License for the
// specific language governing permissions and limitations
// under the License.
//
// AUTO-GENERATED FILE.
//
// This file is auto-generated by Ballerina.
// Developers are allowed to modify this file as per the requirement.

import ballerina_fhir_server.handlers;
import ballerina_fhir_server.r4_api_config;

import ballerina/file;
import ballerina/http;
import ballerina/io;
import ballerina/log;
import ballerina/time;
import ballerina/uuid;
import ballerinax/health.fhir.r4;
import ballerinax/health.fhirr4;
import ballerinax/health.fhir.r4.international401;
import ballerinax/health.fhir.r4.parser as fhirParser;
import ballerinax/health.fhir.r4.validator;
import ballerinax/java.jdbc;

// IPS Configuration Record
type IpsConfig record {|
    string custodianOrganization;
    string authorPractitioner;
    string identifierSystem;
    string documentTitle;
|};

configurable IpsConfig ips = {
    custodianOrganization: "Organization/default-hospital",
    authorPractitioner: "Practitioner/system",
    identifierSystem: "urn:oid:2.16.840.1.113883.2.4.6.3",
    documentTitle: "International Patient Summary"
};

configurable int exportServicePort = 9091;
configurable string exportServiceBaseUrl = "http://localhost:9091";
configurable string serverName = "Ballerina FHIR Server";

# Generic types to wrap all implemented profiles for each resource.
# Add required profile types here.
public type Appointment international401:Appointment;

public type Account international401:Account;

public type Invoice international401:Invoice;

public type CatalogEntry international401:CatalogEntry;

public type EventDefinition international401:EventDefinition;

public type DocumentManifest international401:DocumentManifest;

public type MessageDefinition international401:MessageDefinition;

public type Goal international401:Goal;

public type MedicinalProductPackaged international401:MedicinalProductPackaged;

public type Endpoint international401:Endpoint;

public type EnrollmentRequest international401:EnrollmentRequest;

public type Consent international401:Consent;

public type CapabilityStatement international401:CapabilityStatement;

public type Measure international401:ShareableMeasure|international401:Measure;

public type Medication international401:Medication;

public type ResearchSubject international401:ResearchSubject;

public type Subscription international401:Subscription;

public type GraphDefinition international401:GraphDefinition;

public type DocumentReference international401:DocumentReference;

public type Parameters international401:Parameters;

public type CoverageEligibilityResponse international401:CoverageEligibilityResponse;

public type MeasureReport international401:MeasureReport;

public type SubstanceReferenceInformation international401:SubstanceReferenceInformation;

public type PractitionerRole international401:PractitionerRole;

public type RelatedPerson international401:RelatedPerson;

public type ServiceRequest international401:ServiceRequest|international401:ServiceRequest_Genetics;

public type SupplyRequest international401:SupplyRequest;

public type Practitioner international401:Practitioner;

public type VerificationResult international401:VerificationResult;

public type SubstanceProtein international401:SubstanceProtein;

public type BodyStructure international401:BodyStructure;

public type Slot international401:Slot;

public type Contract international401:Contract;

public type Person international401:Person;

public type RiskAssessment international401:RiskAssessment;

public type Group international401:Group|international401:GroupDefinition|international401:ActualGroup;

public type ResearchDefinition international401:ResearchDefinition;

public type PaymentNotice international401:PaymentNotice;

public type MedicinalProductManufactured international401:MedicinalProductManufactured;

public type Organization international401:Organization;

public type ImplementationGuide international401:ImplementationGuide;

public type CareTeam international401:CareTeam;

public type ImagingStudy international401:ImagingStudy;

public type FamilyMemberHistory international401:Familymemberhistoryforgeneticsanalysis|international401:FamilyMemberHistory;

public type ChargeItem international401:ChargeItem;

public type ResearchElementDefinition international401:ResearchElementDefinition;

public type ObservationDefinition international401:ObservationDefinition;

public type SubstanceSpecification international401:SubstanceSpecification;

public type Encounter international401:Encounter;

public type Substance international401:Substance;

public type SearchParameter international401:SearchParameter;

public type Communication international401:Communication;

public type InsurancePlan international401:InsurancePlan;

public type ActivityDefinition international401:ShareableActivityDefinition|international401:ActivityDefinition;

public type Linkage international401:Linkage;

public type SubstanceSourceMaterial international401:SubstanceSourceMaterial;

public type ImmunizationEvaluation international401:ImmunizationEvaluation;

public type DeviceUseStatement international401:DeviceUseStatement;

public type RequestGroup international401:RequestGroup|international401:CDSHooksRequestGroup;

public type MessageHeader international401:MessageHeader;

public type DeviceRequest international401:DeviceRequest;

public type ImmunizationRecommendation international401:ImmunizationRecommendation;

public type Task international401:Task;

public type Provenance international401:ProvenanceRelevantHistory|international401:Provenance|international401:EHRSFMRecordLifecycleEvent_Provenance;

public type Questionnaire international401:CQF_Questionnaire|international401:Questionnaire;

public type ExplanationOfBenefit international401:ExplanationOfBenefit;

public type MedicinalProductPharmaceutical international401:MedicinalProductPharmaceutical;

public type ResearchStudy international401:ResearchStudy;

public type Specimen international401:Specimen;

public type CarePlan international401:CarePlan;

public type AllergyIntolerance international401:AllergyIntolerance;

public type StructureDefinition international401:StructureDefinition;

public type ChargeItemDefinition international401:ChargeItemDefinition;

public type EpisodeOfCare international401:EpisodeOfCare;

public type Procedure international401:Procedure;

public type List international401:List;

public type ConceptMap international401:ConceptMap;

public type OperationDefinition international401:OperationDefinition;

public type Immunization international401:Immunization;

public type MedicationRequest international401:MedicationRequest;

public type EffectEvidenceSynthesis international401:EffectEvidenceSynthesis;

public type BiologicallyDerivedProduct international401:BiologicallyDerivedProduct;

public type Device international401:Device;

public type VisionPrescription international401:VisionPrescription;

public type Media international401:Media;

public type MedicinalProductContraindication international401:MedicinalProductContraindication;

public type EvidenceVariable international401:PICOElementProfile|international401:EvidenceVariable;

public type MolecularSequence international401:MolecularSequence;

public type MedicinalProduct international401:MedicinalProduct;

public type DeviceMetric international401:DeviceMetric;

public type Flag international401:Flag;

public type SubstanceNucleicAcid international401:SubstanceNucleicAcid;

public type RiskEvidenceSynthesis international401:RiskEvidenceSynthesis;

public type AppointmentResponse international401:AppointmentResponse;

public type StructureMap international401:StructureMap;

public type AdverseEvent international401:AdverseEvent;

public type GuidanceResponse international401:GuidanceResponse|international401:CDSHooksGuidanceResponse;

public type Observation international401:ExampleLipidProfile|international401:observation_vitalsigns|international401:observation_headcircum|international401:ExampleLipidProfile|international401:observation_bmi|international401:observation_vitalspanel|international401:DeviceMetricObservationProfile|international401:ExampleLipidProfile|international401:observation_resprate|international401:ExampleLipidProfile|international401:observation_bodytemp|international401:observation_bodyweight|international401:observation_bp|international401:observation_heartrate|international401:Observation|international401:observation_bodyheight|international401:observation_oxygensat|international401:Observation_genetics;

public type MedicationAdministration international401:MedicationAdministration;

public type EnrollmentResponse international401:EnrollmentResponse;

public type Library international401:Library|international401:CQLLibrary|international401:ShareableLibrary;

public type Binary international401:Binary;

public type MedicinalProductInteraction international401:MedicinalProductInteraction;

public type MedicationStatement international401:MedicationStatement;

public type CommunicationRequest international401:CommunicationRequest;

public type TestScript international401:TestScript;

public type SubstancePolymer international401:SubstancePolymer;

public type Basic international401:Basic;

public type TestReport international401:TestReport;

public type ClaimResponse international401:ClaimResponse;

public type MedicationDispense international401:MedicationDispense;

public type DiagnosticReport international401:DiagnosticReport|international401:ExampleLipidProfile|international401:ProfileforHLAGenotypingResults|international401:DiagnosticReport_Genetics;

public type OrganizationAffiliation international401:OrganizationAffiliation;

public type HealthcareService international401:HealthcareService;

public type MedicinalProductIndication international401:MedicinalProductIndication;

public type NutritionOrder international401:NutritionOrder;

public type TerminologyCapabilities international401:TerminologyCapabilities;

public type Evidence international401:EvidenceSynthesisProfile|international401:Evidence;

public type AuditEvent international401:EHRSFMRecordLifecycleEvent_AuditEvent|international401:AuditEvent;

public type PaymentReconciliation international401:PaymentReconciliation;

public type Condition international401:Condition;

public type SpecimenDefinition international401:SpecimenDefinition;

public type Composition international401:ClinicalDocument|international401:Composition|international401:ProfileforCatalog;

public type DetectedIssue international401:DetectedIssue;

public type CompartmentDefinition international401:CompartmentDefinition;

public type MedicinalProductIngredient international401:MedicinalProductIngredient;

public type MedicationKnowledge international401:MedicationKnowledge;

public type Patient international401:Patient;

public type Coverage international401:Coverage;

public type QuestionnaireResponse international401:QuestionnaireResponse;

public type CoverageEligibilityRequest international401:CoverageEligibilityRequest;

public type NamingSystem international401:NamingSystem;

public type MedicinalProductUndesirableEffect international401:MedicinalProductUndesirableEffect;

public type ExampleScenario international401:ExampleScenario;

public type SupplyDelivery international401:SupplyDelivery;

public type Schedule international401:Schedule;

public type DeviceDefinition international401:DeviceDefinition;

public type ClinicalImpression international401:ClinicalImpression;

public type PlanDefinition international401:CDSHooksServicePlanDefinition|international401:ComputablePlanDefinition|international401:ShareablePlanDefinition|international401:PlanDefinition;

public type MedicinalProductAuthorization international401:MedicinalProductAuthorization;

public type Claim international401:Claim;

public type Location international401:Location;

// Global Database Config Objects
final handlers:DBHandler dbHandler = check new handlers:DBHandler();
final jdbc:Client jdbcClient = check dbHandler.initializeJdbcClient();

// Export Job Management
type ExportJobStatus "in-progress"|"completed"|"failed";

type ExportFile record {
    string 'type; // Resource type
    string url; // Download URL
    int count; // Number of resources
};

type ExportJob record {
    string jobId;
    ExportJobStatus status;
    string? errorMessage;
    string transactionTime;
    string request;
    ExportFile[] output;
};

// Export file storage directory
const string EXPORT_DIR = "./data/exports/";
const string JOB_METADATA_FILE = "job-metadata.json";

function init() returns error? {
    boolean|error? dbStatus = dbHandler.initDatabase(jdbcClient);
    if (dbStatus is boolean && dbStatus == true) {
        log:printInfo("DB Init Successfully");
    }

    // Load all StructureDefinitions from database and register them in FHIR registry
    error? profileLoadStatus = loadCustomProfiles();
    if (profileLoadStatus is error) {
        log:printError("Failed to load custom profiles: " + profileLoadStatus.message());
    }

    // Ensure Device/fhir-server exists for AuditEvent logging
    handlers:ReadHandler readHandler = new handlers:ReadHandler();
    json|error deviceResult = readHandler.readResource(jdbcClient, "Device", "fhir-server");

    if deviceResult is error {
        // Device not found or error, try to create it
        log:printInfo("Device/fhir-server not found, creating...");

        international401:Device device = {
            id: "fhir-server",
            deviceName: [
                {
                    name: serverName,
                    'type: "user-friendly-name"
                }
            ],
            'type: {
                coding: [
                    {
                        system: "http://terminology.hl7.org/CodeSystem/device-type",
                        code: "ubiquitous",
                        display: "Ubiquitous device"
                    }
                ]
            }
        };

        any|r4:OperationOutcome|r4:FHIRError createResult = performResourceCreate("Device", device.toJson());
        if createResult is r4:FHIRError {
            log:printError("Failed to create Device/fhir-server: " + createResult.message());
        } else {
            log:printInfo("Successfully created Device/fhir-server");
        }
    }
}

listener http:Listener httpListener = http:getDefaultListener();

# initialize source system endpoints here

service http:Service /fhir/r4/metadata on httpListener {

    # The capability statement is a key part of the overall conformance framework in FHIR. It is used as a statement of the
    # features of actual software, or of a set of rules for an application to provide. This statement connects to all the
    # detailed statements of functionality, such as StructureDefinitions and ValueSets. This composite statement of application
    # capability may be used for system compatibility testing, code generation, or as the basis for a conformance assessment.
    # For further information https://hl7.org/fhir/capabilitystatement.html
    # + return - capability statement as a json
    isolated resource function get .() returns r4:CapabilityStatement|error {
        return check r4:generateFHIRCapabilityStatement();
    }
}

// Load all StructureDefinition resources from database and register them in FHIR registry
function loadCustomProfiles() returns error? {
    log:printInfo("Loading custom profiles from database...");

    handlers:ReadHandler readHandler = new handlers:ReadHandler();
    json|error allStructureDefinitions = readHandler.readAllResources(jdbcClient, "StructureDefinition", ());

    if allStructureDefinitions is error {
        log:printError("Failed to read StructureDefinitions from database: " + allStructureDefinitions.message());
        return allStructureDefinitions;
    }

    // Parse the Bundle response
    r4:Bundle|error bundle = fhirParser:parse(allStructureDefinitions).ensureType();
    if bundle is error {
        log:printError("Failed to parse StructureDefinition bundle: " + bundle.message());
        return bundle;
    }

    // Process each StructureDefinition entry
    int registeredCount = 0;
    r4:BundleEntry[]? entries = bundle.entry;
    if entries is r4:BundleEntry[] {
        foreach var entry in entries {
            anydata|r4:FHIRWireFormat resourceField = entry?.'resource;
            if resourceField is () {
                continue;
            }

            // Try to get JSON representation for field access
            json|error resourceJson = trap resourceField.toJson();
            if resourceJson is error {
                log:printWarn("Failed to convert StructureDefinition to JSON: " + resourceJson.message());
                continue;
            }

            string|error urlResult = resourceJson.url.ensureType(string);
            string|error typeResult = resourceJson.'type.ensureType(string);

            if urlResult is error || typeResult is error {
                log:printWarn("Skipping StructureDefinition without url or type");
                continue;
            }

            string customUrl = urlResult;
            string resourceType = typeResult;

            // Register the profile in FHIR registry using the same structure as POST endpoint
            readonly & r4:Profile customProfile = {
                url: customUrl,
                resourceType: resourceType,
                modelType: json
            }.cloneReadOnly();

            readonly & r4:IGInfoRecord customIG = {
                title: "Custom Profiles IG",
                name: "custom-profiles",
                terminology: {
                    codeSystems: [],
                    valueSets: []
                },
                profiles: {
                    [customUrl]: customProfile
                },
                searchParameters: []
            }.cloneReadOnly();

            r4:FHIRImplementationGuide ig = new (customIG);
            r4:FHIRError? regResult = r4:fhirRegistry.addImplementationGuide(ig);

            if regResult is r4:FHIRError {
                log:printWarn(string `Failed to register profile ${customUrl}: ${regResult.message()}`);
            } else {
                registeredCount += 1;
                log:printDebug(string `Registered profile: ${customUrl} for resource type: ${resourceType}`);
            }
        }
    }

    log:printInfo(string `Successfully loaded and registered ${registeredCount} custom profile(s) from database`);
    return;
}

// Utility function to handle search operations for resources
isolated function performResourceSearch(string resourceType, r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
    log:printInfo(string `${resourceType}: Search - Start Execution!`);
    do {
        // Access query parameters from FHIRContext
        map<r4:RequestSearchParameter[]> searchParams = fhirContext.getRequestSearchParameters();

        // Convert RequestSearchParameter[] to string[] for handler
        map<string[]> queryParams = {};
        foreach var [key, values] in searchParams.entries() {
            string[] paramValues = [];
            foreach var param in values {
                paramValues.push(param.value);
            }
            queryParams[key] = paramValues;
        }

        // Use ReadHandler to search resources
        handlers:ReadHandler readHandler = new handlers:ReadHandler();
        json|error searchResult = readHandler.searchResources(jdbcClient, resourceType, queryParams);

        if searchResult is json {
            log:printInfo(string `${resourceType}: Search - Execution Success!`);
            r4:Bundle bundle = check fhirParser:parse(searchResult).ensureType();
            return bundle;
        } else {
            string errorMsg = searchResult.message();
            log:printError("Search failed: " + errorMsg);
            return r4:createFHIRError(string `Failed to search ${resourceType}`, r4:ERROR, r4:PROCESSING, httpStatusCode = http:STATUS_INTERNAL_SERVER_ERROR);
        }
    } on fail error e {
        log:printError("Error processing search: " + e.message());
        return r4:createFHIRError(
                "Search operation failed.", r4:ERROR, r4:INFORMATIONAL, httpStatusCode = http:STATUS_BAD_REQUEST);
    }
}

// Utility function to handle delete operations for resources
isolated function performResourceDelete(string resourceType, string id) returns r4:OperationOutcome|r4:FHIRError {
    log:printInfo(string `${resourceType}: Delete - Start Execution!`);
    do {
        handlers:DeleteHandler deleteHandler = new handlers:DeleteHandler(jdbcClient);
        boolean|error result = deleteHandler.deleteResourceWithTransaction(resourceType, id);

        if result is boolean && result {
            log:printInfo(string `${resourceType}: DELETE - Execution Success!`);

            return {
                resourceType: "OperationOutcome",
                issue: [
                    {
                        severity: "information",
                        code: "informational",
                        diagnostics: string `${resourceType}/${id} deleted successfully`
                    }
                ]
            };
        } else {
            string errorMsg = result is error ? result.message() : "Unknown error";
            log:printError(string `Delete failed: ${errorMsg}`);

            // Check if resource was not found
            if errorMsg.includes("not found") {
                return r4:createFHIRError(string `${resourceType}/${id} not found`, r4:ERROR, r4:PROCESSING, httpStatusCode = http:STATUS_NOT_FOUND);
            }

            return r4:createFHIRError(string `Failed to delete ${resourceType}/${id}`, r4:ERROR, r4:PROCESSING, httpStatusCode = http:STATUS_INTERNAL_SERVER_ERROR);
        }

    } on fail error e {
        log:printError(string `Error deleting ${resourceType}/${id}: ${e.message()}`);
        return r4:createFHIRError(string `Delete operation failed.`, r4:ERROR, r4:PROCESSING, httpStatusCode = http:STATUS_INTERNAL_SERVER_ERROR);
    }
}

// Utility function to handle resource history retrieval for a specific resource ID
isolated function performResourceHistory(string resourceType, string id) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
    log:printInfo(string `${resourceType}: History - Start Execution for ID: ${id}`);
    do {
        handlers:HistoryHandler historyHandler = new handlers:HistoryHandler(jdbcClient);
        map<json>[]|error result = historyHandler.getResourceHistory(resourceType, id);

        if result is map<json>[] {
            r4:BundleEntry[] entries = [];
            foreach map<json> historyItem in result {
                string operation = historyItem.get("operation").toString();
                string lastModifiedStr = historyItem.get("lastModified").toString();

                r4:BundleEntry entry = {
                    request: {
                        method: <r4:HTTPVerb>operation,
                        url: string `${resourceType}/${id}`
                    },
                    response: {
                        status: "200",
                        lastModified: lastModifiedStr
                    }
                };

                // For DELETE operations, do not include the resource
                if operation != "DELETE" {
                    json resourceData = historyItem.get("resource");
                    entry.'resource = resourceData;
                }

                entries.push(entry);
            }

            r4:Bundle bundle = {
                resourceType: "Bundle",
                'type: "history",
                total: entries.length(),
                entry: entries
            };

            log:printInfo(string `Retrieved ${entries.length()} versions for ${resourceType}/${id}`);
            return bundle;
        } else {
            string errorMsg = result.message();
            log:printError(string `Failed to retrieve history: ${errorMsg}`);
            return r4:createFHIRError(errorMsg, r4:ERROR, r4:PROCESSING, httpStatusCode = http:STATUS_INTERNAL_SERVER_ERROR);
        }
    } on fail error e {
        log:printError(string `Error retrieving ${resourceType}/${id}/_history: ${e.message()}`);
        return r4:createFHIRError(e.message(), r4:ERROR, r4:PROCESSING, httpStatusCode = http:STATUS_BAD_REQUEST);
    }
}

// Utility function to handle all resource history retrieval for a resource type
isolated function performAllResourceHistory(string resourceType) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
    log:printInfo(string `${resourceType}: All History - Start Execution`);
    do {
        handlers:HistoryHandler historyHandler = new handlers:HistoryHandler(jdbcClient);
        map<json>[]|error result = historyHandler.getAllHistory(resourceType);

        if result is map<json>[] {
            r4:BundleEntry[] entries = [];
            foreach map<json> historyItem in result {
                string operation = historyItem.get("operation").toString();
                string lastModifiedStr = historyItem.get("lastModified").toString();
                json resourceData = historyItem.get("resource");
                json resourceIdJson = check resourceData.id;
                string resourceId = resourceIdJson.toString();

                r4:BundleEntry entry = {
                    request: {
                        method: <r4:HTTPVerb>operation,
                        url: string `${resourceType}/${resourceId}`
                    },
                    response: {
                        status: "200",
                        lastModified: lastModifiedStr
                    }
                };

                // For DELETE operations, do not include the resource
                if operation != "DELETE" {
                    entry.'resource = resourceData;
                }

                entries.push(entry);
            }

            r4:Bundle bundle = {
                resourceType: "Bundle",
                'type: "history",
                total: entries.length(),
                entry: entries
            };

            log:printInfo(string `Retrieved ${entries.length()} total history entries for ${resourceType}`);
            return bundle;
        } else {
            string errorMsg = result.message();
            log:printError(string `Failed to retrieve all history: ${errorMsg}`);
            return r4:createFHIRError(errorMsg, r4:ERROR, r4:PROCESSING, httpStatusCode = http:STATUS_INTERNAL_SERVER_ERROR);
        }
    } on fail error e {
        log:printError(string `Error retrieving ${resourceType}/_history: ${e.message()}`);
        return r4:createFHIRError(e.message(), r4:ERROR, r4:PROCESSING, httpStatusCode = http:STATUS_BAD_REQUEST);
    }
}

// Utility function to convert resource result to typed resource
isolated function convertToTypedResource(any|r4:OperationOutcome|r4:FHIRError result, typedesc<anydata> resourceType, string resourceName) returns anydata|r4:OperationOutcome|r4:FHIRError {
    if result is r4:OperationOutcome|r4:FHIRError {
        return result;
    } else if result is anydata && !(result is json) {
        return result;
    } else {
        json jsonResult = <json>result;
        anydata|error typedResult = jsonResult.cloneWithType(resourceType);
        if typedResult is error {
            return r4:createFHIRError(string `Invalid ${resourceName} resource structure`, r4:CODE_SEVERITY_ERROR, r4:PROCESSING);
        }
        return typedResult;
    }
}

// Utility function to handle resource read by ID operations
isolated function performResourceRead(string resourceType, string id) returns any|r4:OperationOutcome|r4:FHIRError {
    log:printInfo(string `${resourceType}: Read - Start Execution for ID: ${id}`);
    do {
        handlers:ReadHandler readHandler = new handlers:ReadHandler();
        json|error result = readHandler.readResource(jdbcClient, resourceType, id);

        if result is json {
            log:printInfo(string `${resourceType}: READ - Execution Success!`);
            any parsedResource = check fhirParser:parse(result).ensureType();
            return parsedResource;
        } else {
            string errorMsg = result.message();
            log:printError(string `Read failed: ${errorMsg}`);

            // Check if resource was not found
            if errorMsg.includes("not found") {
                return r4:createFHIRError(string `${resourceType}/${id} not found`, r4:ERROR, r4:PROCESSING, httpStatusCode = http:STATUS_NOT_FOUND);
            }

            return r4:createFHIRError(string `Failed to fetch ${resourceType}`, r4:ERROR, r4:PROCESSING, httpStatusCode = http:STATUS_INTERNAL_SERVER_ERROR);
        }
    } on fail error e {
        log:printError(string `Error processing ${resourceType}: ${e.message()}`);
        return r4:createFHIRError(string `Invalid ${resourceType} data`, r4:ERROR, r4:INFORMATIONAL, httpStatusCode = http:STATUS_BAD_REQUEST);
    }
}

// Utility function to handle resource version read by ID and version ID operations
isolated function performResourceVersionRead(string resourceType, string id, string vid) returns any|r4:OperationOutcome|r4:FHIRError {
    log:printInfo(string `${resourceType}: Version Read - Start Execution for ID: ${id}, Version: ${vid}`);
    do {
        handlers:HistoryHandler historyHandler = new handlers:HistoryHandler(jdbcClient);
        int versionId = check int:fromString(vid);
        map<json>|error result = historyHandler.getResourceVersion(resourceType, id, versionId);

        if result is map<json> {
            // Extract just the resource from the map
            json resourceData = result.get("resource");
            log:printInfo(string `${resourceType}: VERSION READ - Execution Success! Retrieved ${resourceType}/${id}/_history/${vid}`);
            any parsedResource = check fhirParser:parse(resourceData).ensureType();
            return parsedResource;
        } else {
            string errorMsg = result.message();
            log:printError(string `Failed to retrieve version: ${errorMsg}`);
            return r4:createFHIRError(errorMsg, r4:ERROR, r4:PROCESSING, httpStatusCode = http:STATUS_NOT_FOUND);
        }
    } on fail error e {
        log:printError(string `Error retrieving ${resourceType}/${id}/_history/${vid}: ${e.message()}`);
        return r4:createFHIRError("Error retrieving history", r4:ERROR, r4:PROCESSING, httpStatusCode = http:STATUS_BAD_REQUEST);
    }
}

// Utility function to handle resource creation operations
isolated function performResourceCreate(string resourceType, json resourceJson) returns any|r4:OperationOutcome|r4:FHIRError {
    log:printInfo(string `${resourceType}: Create - Start Execution`);
    do {
        handlers:CreateHandler createHandler = new handlers:CreateHandler(jdbcClient);
        string|error? result = createHandler.saveResourceWithTransaction(resourceType, resourceJson);

        if result is string {
            log:printInfo(string `${resourceType}: POST - Execution Success!`);
            any parsedResource = check fhirParser:parse(resourceJson).ensureType();
            return parsedResource;
        } else {
            string errorMsg = result is error ? result.message() : "Unknown error";
            log:printError(string `Resource save failed: ${errorMsg}`);

            // Check if resource already exists (duplicate ID)
            if errorMsg.includes("already exists") {
                return r4:createFHIRError(errorMsg, r4:ERROR, r4:PROCESSING, httpStatusCode = http:STATUS_CONFLICT);
            }

            // Check if error is related to invalid references (validation failure)
            if errorMsg.includes("does not exist") || errorMsg.includes("Invalid reference") {
                return r4:createFHIRError(errorMsg, r4:ERROR, r4:INVALID, httpStatusCode = http:STATUS_BAD_REQUEST);
            }

            // Check for missing required fields
            if errorMsg.includes("KeyNotFound") || errorMsg.includes("must have an 'id' field") {
                return r4:createFHIRError("Required field missing in resource (resource must have an 'id' field when server-generated IDs are disabled)", r4:ERROR, r4:INVALID, httpStatusCode = http:STATUS_BAD_REQUEST);
            }

            // Otherwise it's a server/database error
            return r4:createFHIRError("Internal server error", r4:ERROR, r4:PROCESSING, httpStatusCode = http:STATUS_INTERNAL_SERVER_ERROR);
        }
    } on fail error e {
        log:printError(string `Error processing ${resourceType}: ${e.message()}`);
        return r4:createFHIRError(string `Invalid ${resourceType} data: ${e.message()}`, r4:ERROR, r4:INFORMATIONAL, httpStatusCode = http:STATUS_BAD_REQUEST);
    }
}

// Utility function to handle resource update operations
isolated function performResourceUpdate(string resourceType, string id, json resourceJson) returns any|r4:OperationOutcome|r4:FHIRError {
    log:printInfo(string `${resourceType}: Update - Start Execution for ID: ${id}`);
    do {
        handlers:UpdateHandler updateHandler = new handlers:UpdateHandler(jdbcClient);
        string|error result = updateHandler.updateResourceWithTransaction(resourceType, id, resourceJson);

        if result is string {
            log:printInfo(string `${resourceType}: PUT - Execution Success!`);
            any parsedResource = check fhirParser:parse(resourceJson).ensureType();
            return parsedResource;
        } else {
            string errorMsg = result.message();
            log:printError(string `Update failed: ${errorMsg}`);

            // Check if resource was not found
            if errorMsg.includes("not found") {
                return r4:createFHIRError(string `${resourceType}/${id} not found`, r4:ERROR, r4:PROCESSING, httpStatusCode = http:STATUS_NOT_FOUND);
            }

            // Check if error is related to invalid references (validation failure)
            if errorMsg.includes("does not exist") || errorMsg.includes("Invalid reference") {
                return r4:createFHIRError(errorMsg, r4:ERROR, r4:INVALID, httpStatusCode = http:STATUS_BAD_REQUEST);
            }

            // Otherwise it's a server/database error
            return r4:createFHIRError(string `Failed to update ${resourceType}/${id}`, r4:ERROR, r4:PROCESSING, httpStatusCode = http:STATUS_INTERNAL_SERVER_ERROR);
        }
    } on fail error e {
        log:printError(string `Error updating ${resourceType}/${id}: ${e.message()}`);
        return r4:createFHIRError(string `Update operation failed: ${e.message()}`, r4:ERROR, r4:PROCESSING, httpStatusCode = http:STATUS_BAD_REQUEST);
    }
}

// Utility function to handle resource patch operations
isolated function performResourcePatch(string resourceType, string id, json patch) returns any|r4:OperationOutcome|r4:FHIRError {
    log:printInfo(string `${resourceType}: Patch - Start Execution for ID: ${id}`);
    do {
        handlers:UpdateHandler updateHandler = new handlers:UpdateHandler(jdbcClient);
        json|error result = updateHandler.patchResourceWithTransaction(resourceType, id, patch);

        if result is json {
            log:printInfo(string `${resourceType}: PATCH - Execution Success!`);
            any parsedResource = check fhirParser:parse(result).ensureType();
            return parsedResource;
        } else {
            string errorMsg = result.message();
            log:printError(string `Patch failed: ${errorMsg}`);

            // Check if error is related to invalid references (validation failure)
            if errorMsg.includes("does not exist") || errorMsg.includes("Invalid reference") {
                return r4:createFHIRError(errorMsg, r4:ERROR, r4:INVALID, httpStatusCode = http:STATUS_BAD_REQUEST);
            }

            // Otherwise it's a server/database error
            return r4:createFHIRError(string `Failed to patch ${resourceType}/${id}`, r4:ERROR, r4:PROCESSING, httpStatusCode = http:STATUS_INTERNAL_SERVER_ERROR);
        }
    } on fail error e {
        log:printError(string `Error patching ${resourceType}/${id}: ${e.message()}`);
        return r4:createFHIRError(string `Patch operation failed: ${e.message()}`, r4:ERROR, r4:PROCESSING, httpStatusCode = http:STATUS_BAD_REQUEST);
    }
}

// FHIR validation error details record
public type FHIRValidationErrorDetail record {
    *r4:FHIRErrorDetail;
    [validator:FHIRValidationIssueDetail, validator:FHIRValidationIssueDetail...] issues;
};

// Helper function to convert FHIR issue detail to OperationOutcome issue
isolated function issueDetailToOperationOutcomeIssue(r4:FHIRIssueDetail detail) returns r4:OperationOutcomeIssue {
    r4:OperationOutcomeIssue issueBBE = {
        severity: detail.severity,
        code: detail.code
    };

    r4:CodeableConcept? details = detail.details;
    if details != () {
        issueBBE.details = details;
    }

    string? diagnostic = detail.diagnostic;
    if diagnostic != () {
        issueBBE.diagnostics = string `${diagnostic}`;
    }

    string[]? expression = detail.expression;
    if expression != () {
        issueBBE.expression = expression;
    }

    return issueBBE;
}

// Utility function to handle $everything operation (reuses _include and _revinclude implementation)
function performEverythingOperation(string resourceType, string id) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
    log:printDebug(string `${resourceType}: Everything - Start Execution for ID: ${id}`);
    do {
        handlers:ReadHandler readHandler = new handlers:ReadHandler();

        // First, get the main resource
        json|error mainResource = readHandler.readResource(jdbcClient, resourceType, id);

        if mainResource is error {
            string errorMsg = mainResource.message();
            log:printError(string `Read failed: ${errorMsg}`);
            if errorMsg.includes("not found") {
                return r4:createFHIRError(string `${resourceType}/${id} not found`, r4:ERROR, r4:PROCESSING, httpStatusCode = http:STATUS_NOT_FOUND);
            }
            return r4:createFHIRError(string `Failed to fetch ${resourceType}`, r4:ERROR, r4:PROCESSING, httpStatusCode = http:STATUS_INTERNAL_SERVER_ERROR);
        }

        // Create bundle entries array
        r4:BundleEntry[] entries = [];

        // Add the main resource as first entry
        entries.push({
            fullUrl: string `${resourceType}/${id}`,
            'resource: mainResource
        });

        // Track resource IDs already added to avoid duplicates
        map<boolean> addedResources = {};
        addedResources[string `${resourceType}/${id}`] = true;

        // STEP 1: Forward includes - Use existing fetchAllReferencedResources from ReadHandler
        // This queries the REFERENCES table to find all resources referenced by the main resource
        json[]|error forwardIncluded = readHandler.fetchAllReferencedResources(jdbcClient, resourceType, id);

        if forwardIncluded is json[] {
            foreach json entry in forwardIncluded {
                map<json> entryMap = <map<json>>entry;
                string? fullUrl = entryMap["fullUrl"] is string ? <string>entryMap["fullUrl"] : ();
                json? resourceJson = entryMap["resource"];

                if fullUrl is string && resourceJson != () && !addedResources.hasKey(fullUrl) {
                    entries.push({
                        fullUrl: fullUrl,
                        'resource: resourceJson
                    });
                    addedResources[fullUrl] = true;
                }
            }
        } else {
            log:printWarn(string `Failed to fetch forward references: ${forwardIncluded.message()}`);
        }

        // STEP 2: Reverse includes - Use existing fetchAllReferencingResources from ReadHandler
        // This queries the REFERENCES table to find all resources that reference the main resource
        json[]|error reverseIncluded = readHandler.fetchAllReferencingResources(jdbcClient, resourceType, id);

        if reverseIncluded is json[] {
            foreach json entry in reverseIncluded {
                map<json> entryMap = <map<json>>entry;
                string? fullUrl = entryMap["fullUrl"] is string ? <string>entryMap["fullUrl"] : ();
                json? resourceJson = entryMap["resource"];

                if fullUrl is string && resourceJson != () && !addedResources.hasKey(fullUrl) {
                    entries.push({
                        fullUrl: fullUrl,
                        'resource: resourceJson
                    });
                    addedResources[fullUrl] = true;
                }
            }
        } else {
            log:printWarn(string `Failed to fetch reverse references: ${reverseIncluded.message()}`);
        }

        // Create the bundle
        r4:Bundle bundle = {
            resourceType: "Bundle",
            'type: "searchset",
            entry: entries
        };

        log:printDebug(string `${resourceType}: Everything - Retrieved ${entries.length()} resources (forward + reverse references)`);
        return bundle;

    } on fail error e {
        log:printError(string `Error processing ${resourceType}/$everything: ${e.message()}`);
        return r4:createFHIRError(string `Everything operation failed: ${e.message()}`, r4:ERROR, r4:PROCESSING, httpStatusCode = http:STATUS_INTERNAL_SERVER_ERROR);
    }
}

// IPS-compliant summary operation using database access (optimized version)
// This creates a full International Patient Summary document with Composition resource
// Uses direct database queries instead of HTTP calls for better performance
function performIpsSummaryOperation(string resourceType, string id) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
    log:printDebug(string `${resourceType}: IPS Summary - Start Execution for ID: ${id}`);

    // Define IPS sections with their resource types
    map<string[]> ipsSections = {
        "problems": ["Condition"],
        "allergies": ["AllergyIntolerance"],
        "medications": ["MedicationStatement", "MedicationRequest"],
        "immunizations": ["Immunization"],
        "procedures": ["Procedure"],
        "results": ["Observation", "DiagnosticReport"]
    };

    do {
        handlers:ReadHandler readHandler = new handlers:ReadHandler();

        // First, get the main resource (Patient)
        json|error mainResource = readHandler.readResource(jdbcClient, resourceType, id);

        if mainResource is error {
            string errorMsg = mainResource.message();
            log:printError(string `Read failed: ${errorMsg}`);
            if errorMsg.includes("not found") {
                return r4:createFHIRError(string `${resourceType}/${id} not found`, r4:ERROR, r4:PROCESSING, httpStatusCode = http:STATUS_NOT_FOUND);
            }
            return r4:createFHIRError(string `Failed to fetch ${resourceType}`, r4:ERROR, r4:PROCESSING, httpStatusCode = http:STATUS_INTERNAL_SERVER_ERROR);
        }

        // Track all resources and organize by section
        map<json[]> resourcesBySection = {};
        map<boolean> addedResources = {};
        addedResources[string `${resourceType}/${id}`] = true;

        // Fetch all FORWARD references (resources the Patient references)
        json[]|error forwardIncluded = readHandler.fetchAllReferencedResources(jdbcClient, resourceType, id);

        if forwardIncluded is json[] {
            log:printDebug(string `IPS: Found ${forwardIncluded.length()} forward referenced resources`);
            // Organize resources by IPS section
            foreach json entry in forwardIncluded {
                map<json> entryMap = <map<json>>entry;
                json? resourceJson = entryMap["resource"];
                string? fullUrl = entryMap["fullUrl"] is string ? <string>entryMap["fullUrl"] : ();

                if resourceJson is map<json> && fullUrl is string && !addedResources.hasKey(fullUrl) {
                    string? resType = resourceJson["resourceType"] is string ? <string>resourceJson["resourceType"] : ();

                    if resType is string {
                        // Find which IPS section this resource belongs to
                        foreach var [sectionName, resourceTypes] in ipsSections.entries() {
                            if resourceTypes.indexOf(resType) != () {
                                if !resourcesBySection.hasKey(sectionName) {
                                    resourcesBySection[sectionName] = [];
                                }
                                json[]? existingArray = resourcesBySection.get(sectionName);
                                if existingArray is json[] {
                                    existingArray.push(resourceJson);
                                    resourcesBySection[sectionName] = existingArray;
                                }
                                addedResources[fullUrl] = true;
                                break;
                            }
                        }
                    }
                }
            }
        } else {
            log:printWarn(string `Failed to fetch forward references for IPS: ${forwardIncluded.message()}`);
        }

        // Fetch all REVERSE references (resources that reference this Patient)
        // This is what we need for IPS - clinical resources with subject=Patient/xxx
        json[]|error reverseIncluded = readHandler.fetchAllReferencingResources(jdbcClient, resourceType, id);

        if reverseIncluded is json[] {
            log:printDebug(string `IPS: Found ${reverseIncluded.length()} reverse referenced resources`);
            // Organize resources by IPS section
            foreach json entry in reverseIncluded {
                map<json> entryMap = <map<json>>entry;
                json? resourceJson = entryMap["resource"];
                string? fullUrl = entryMap["fullUrl"] is string ? <string>entryMap["fullUrl"] : ();

                if resourceJson is map<json> && fullUrl is string && !addedResources.hasKey(fullUrl) {
                    string? resType = resourceJson["resourceType"] is string ? <string>resourceJson["resourceType"] : ();

                    if resType is string {
                        // Find which IPS section this resource belongs to
                        foreach var [sectionName, resourceTypes] in ipsSections.entries() {
                            if resourceTypes.indexOf(resType) != () {
                                if !resourcesBySection.hasKey(sectionName) {
                                    resourcesBySection[sectionName] = [];
                                }
                                json[]? existingArray = resourcesBySection.get(sectionName);
                                if existingArray is json[] {
                                    existingArray.push(resourceJson);
                                    resourcesBySection[sectionName] = existingArray;
                                }
                                addedResources[fullUrl] = true;
                                break;
                            }
                        }
                    }
                }
            }
        } else {
            log:printWarn(string `Failed to fetch reverse references for IPS: ${reverseIncluded.message()}`);
        }

        // Create Composition resource with IPS sections
        time:Utc currentTime = time:utcNow();
        string timestamp = time:utcToString(currentTime);

        // Build composition sections
        json[] compositionSections = [];

        // Section codes according to IPS IG (LOINC codes)
        map<json> sectionCodes = {
            "problems": {"system": "http://loinc.org", "code": "11450-4", "display": "Problem list"},
            "allergies": {"system": "http://loinc.org", "code": "48765-2", "display": "Allergies and adverse reactions"},
            "medications": {"system": "http://loinc.org", "code": "10160-0", "display": "Medication use"},
            "immunizations": {"system": "http://loinc.org", "code": "11369-6", "display": "Immunizations"},
            "procedures": {"system": "http://loinc.org", "code": "47519-4", "display": "Procedures"},
            "results": {"system": "http://loinc.org", "code": "30954-2", "display": "Results"}
        };

        map<string> sectionTitles = {
            "problems": "Active Problems",
            "allergies": "Allergies and Intolerances",
            "medications": "Medication Summary",
            "immunizations": "Immunizations",
            "procedures": "History of Procedures",
            "results": "Results"
        };

        foreach var [sectionName, resources] in resourcesBySection.entries() {
            json[] sectionRefs = [];
            string divContent = "";

            foreach json res in resources {
                map<json> resourceMap = <map<json>>res;
                string? resId = resourceMap["id"] is string ? <string>resourceMap["id"] : ();
                string? resType = resourceMap["resourceType"] is string ? <string>resourceMap["resourceType"] : ();

                if resId is string && resType is string {
                    sectionRefs.push({"reference": string `${resType}/${resId}`});
                    divContent += string `${resType}/${resId}, `;
                }
            }

            if sectionRefs.length() > 0 {
                // Clean up divContent
                if divContent.endsWith(", ") {
                    divContent = divContent.substring(0, divContent.length() - 2);
                }

                json sectionCode = sectionCodes.hasKey(sectionName) ? sectionCodes.get(sectionName) : {};
                string sectionTitle = sectionTitles.hasKey(sectionName) ? sectionTitles.get(sectionName) : sectionName;

                json section = {
                    "code": {"coding": [sectionCode]},
                    "title": sectionTitle,
                    "text": {
                        "status": "generated",
                        "div": string `<div xmlns="http://www.w3.org/1999/xhtml">${divContent}</div>`
                    },
                    "entry": sectionRefs
                };
                compositionSections.push(section);
            }
        }

        // Create Composition resource
        json composition = {
            "resourceType": "Composition",
            "id": string `ips-${id}`,
            "status": "final",
            "type": {
                "coding": [
                    {
                        "system": "http://loinc.org",
                        "code": "60591-5",
                        "display": "Patient summary Document"
                    }
                ]
            },
            "subject": {"reference": string `${resourceType}/${id}`},
            "date": timestamp,
            "author": [{"reference": ips.authorPractitioner}],
            "title": ips.documentTitle,
            "custodian": {"reference": ips.custodianOrganization},
            "section": compositionSections
        };

        // Build final bundle entries
        r4:BundleEntry[] entries = [];

        // 1. Composition as first entry (IPS requirement)
        entries.push({
            fullUrl: string `Composition/ips-${id}`,
            'resource: composition
        });

        // 2. Patient as second entry
        entries.push({
            fullUrl: string `${resourceType}/${id}`,
            'resource: mainResource
        });

        // 3. Add all other resources
        foreach var resources in resourcesBySection {
            foreach json res in resources {
                json|error resTypeField = res.resourceType;
                json|error resIdField = res.id;
                if resTypeField is json && resIdField is json {
                    entries.push({
                        fullUrl: string `${resTypeField.toString()}/${resIdField.toString()}`,
                        'resource: res
                    });
                }
            }
        }

        // Create the IPS Bundle
        r4:Bundle ipsBundle = {
            resourceType: "Bundle",
            'type: "document", // IPS requires document type
            timestamp: timestamp,
            identifier: {
                system: ips.identifierSystem,
                value: uuid:createType1AsString()
            },
            entry: entries
        };

        log:printDebug(string `${resourceType}: IPS Summary - Generated ${entries.length()} entries using database access`);
        return ipsBundle;

    } on fail error e {
        log:printError(string `IPS Summary operation failed: ${e.message()}`);
        return r4:createFHIRError(string `Failed to generate IPS: ${e.message()}`, r4:ERROR, r4:PROCESSING,
                httpStatusCode = http:STATUS_INTERNAL_SERVER_ERROR);
    }
}

// Utility function to initiate $export operation (Async - returns 202 Accepted)
function initiateExportOperation(string resourceType, r4:FHIRContext fhirContext, string? patientId = ()) returns http:Response|r4:FHIRError {
    // Extract output format from FHIRContext search parameters
    string outputFormat = "split"; // default: separate files per resource type
    map<r4:RequestSearchParameter[]> searchParams = fhirContext.getRequestSearchParameters();
    r4:RequestSearchParameter[]? outputFormatParams = searchParams["_outputFormat"];
    if outputFormatParams is r4:RequestSearchParameter[] && outputFormatParams.length() > 0 {
        string? value = outputFormatParams[0].value;
        if value is string && value == "single" {
            outputFormat = "single"; // all resources in one file
        }
    }

    // Extract _type parameter (comma-separated list of resource types to include)
    // Supports both: ?_type=Org,Prac and ?_type=Org&_type=Prac
    string[]? typeFilter = ();
    r4:RequestSearchParameter[]? typeParams = searchParams["_type"];
    if typeParams is r4:RequestSearchParameter[] && typeParams.length() > 0 {
        string[] types = [];
        // Iterate through all _type parameters
        foreach var typeParam in typeParams {
            string? typeValue = typeParam.value;
            if typeValue is string && typeValue.trim().length() > 0 {
                // Split comma-separated resource types and trim whitespace
                string[] parts = re `,`.split(typeValue);
                foreach string part in parts {
                    string trimmed = part.trim();
                    if trimmed.length() > 0 && !types.some(t => t == trimmed) {
                        types.push(trimmed);
                    }
                }
            }
        }
        if types.length() > 0 {
            typeFilter = types;
            log:printDebug(string `Export will filter resource types: ${typeFilter.toString()}`);
        }
    }

    log:printDebug(string `${resourceType}: Export - Initiate async export${patientId is string ? " for patient " + patientId : ""} with output format: ${outputFormat}`);

    // Generate unique job ID
    string jobId = uuid:createType1AsString();

    // Create export job record
    time:Utc currentTime = time:utcNow();
    string transactionTime = time:utcToString(currentTime);

    string requestPath = patientId is string
        ? string `/fhir/r4/${resourceType}/${patientId}/\$export`
        : string `/fhir/r4/${resourceType}/\$export`;

    ExportJob job = {
        jobId: jobId,
        status: "in-progress",
        errorMessage: (),
        transactionTime: transactionTime,
        request: requestPath,
        output: []
    };

    // Create job directory and store job metadata
    do {
        string jobDir = EXPORT_DIR + jobId + "/";
        check file:createDir(jobDir, file:RECURSIVE);

        string metadataPath = jobDir + JOB_METADATA_FILE;
        json jobJson = job.toJson();
        map<json> jobMap = <map<json>>jobJson;
        // Add patientId to metadata if present
        if patientId is string {
            jobMap["patientId"] = patientId;
        }
        // Add typeFilter to metadata if present
        if typeFilter is string[] {
            jobMap["typeFilter"] = typeFilter;
        }
        jobJson = jobMap;
        check io:fileWriteJson(metadataPath, jobJson);
    } on fail error e {
        log:printError(string `Failed to create export job directory: ${e.message()}`);
        return r4:createFHIRError("Failed to initiate export", r4:ERROR, r4:PROCESSING, httpStatusCode = http:STATUS_INTERNAL_SERVER_ERROR);
    }

    // Create AuditEvent for initiation
    createExportAuditEvent(jobId, string `Export Job ${jobId} Initiated`, "0", patientId);

    // Start background processing in a new strand
    future<()> _ = start processExportJob(jobId, resourceType, patientId, outputFormat, typeFilter);

    // Return 202 Accepted with Content-Location header
    http:Response response = new;
    response.statusCode = 202;
    response.setHeader("Content-Location", string `${exportServiceBaseUrl}/fhir/_export/status/${jobId}`);

    log:printDebug(string `${resourceType}: Export - Job ${jobId} initiated`);
    return response;
}

// Background worker to process export job
function processExportJob(string jobId, string resourceType, string? patientId = (), string outputFormat = "split", string[]? typeFilter = ()) {
    log:printDebug(string `Export Job ${jobId}: Starting background processing${patientId is string ? " for patient " + patientId : ""} with output format: ${outputFormat}`);

    do {
        handlers:ReadHandler readHandler = new handlers:ReadHandler();

        string jobDir = EXPORT_DIR + jobId + "/";
        string metadataPath = jobDir + JOB_METADATA_FILE;
        ExportFile[] outputFiles = [];

        if patientId is () {
            // Patient ID is required for export - mark job as failed
            do {
                json jobMetadata = check io:fileReadJson(metadataPath);
                ExportJob job = check jobMetadata.cloneWithType(ExportJob);
                job.status = "failed";
                job.errorMessage = "Patient-specific export requires a patient ID";
                check io:fileWriteJson(metadataPath, job.toJson());
            } on fail error e {
                log:printError(string `Export Job ${jobId}: Failed to update metadata: ${e.message()}`);
            }
            return;
        }

        // Patient-specific export using $everything logic (forward + reverse references)
        json patientResource = check readHandler.readResource(jdbcClient, "Patient", patientId);

        // Track all resources by type
        map<json[]> resourcesByType = {};

        // Add the Patient resource
        resourcesByType["Patient"] = [patientResource];

        // Fetch all FORWARD references (resources the Patient references)
        json[]|error forwardIncluded = readHandler.fetchAllReferencedResources(jdbcClient, "Patient", patientId);

        if forwardIncluded is json[] {
            foreach json entry in forwardIncluded {
                map<json> entryMap = <map<json>>entry;
                json? resourceJson = entryMap["resource"];

                if resourceJson is map<json> {
                    string? resType = resourceJson["resourceType"] is string ? <string>resourceJson["resourceType"] : ();

                    if resType is string {
                        if !resourcesByType.hasKey(resType) {
                            resourcesByType[resType] = [];
                        }
                        json[]? existingArray = resourcesByType.get(resType);
                        if existingArray is json[] {
                            existingArray.push(resourceJson);
                            resourcesByType[resType] = existingArray;
                        }
                    }
                }
            }
        }

        // Fetch all REVERSE references (resources that reference this Patient)
        json[]|error reverseIncluded = readHandler.fetchAllReferencingResources(jdbcClient, "Patient", patientId);

        if reverseIncluded is json[] {
            foreach json entry in reverseIncluded {
                map<json> entryMap = <map<json>>entry;
                json? resourceJson = entryMap["resource"];

                if resourceJson is map<json> {
                    string? resType = resourceJson["resourceType"] is string ? <string>resourceJson["resourceType"] : ();

                    if resType is string {
                        if !resourcesByType.hasKey(resType) {
                            resourcesByType[resType] = [];
                        }
                        json[]? existingArray = resourcesByType.get(resType);
                        if existingArray is json[] {
                            existingArray.push(resourceJson);
                            resourcesByType[resType] = existingArray;
                        }
                    }
                }
            }
        }

        // Write NDJSON files based on output format
        if outputFormat == "single" {
            // Single file containing all resources
            string fileName = "export.ndjson";
            string filePath = jobDir + fileName;
            string ndjsonContent = "";
            int totalCount = 0;

            foreach var [resType, resources] in resourcesByType.entries() {
                // Apply type filter if specified
                if typeFilter is string[] && !typeFilter.some(t => t == resType) {
                    continue;
                }
                foreach json res in resources {
                    ndjsonContent += res.toJsonString() + "\n";
                    totalCount += 1;
                }
            }

            check io:fileWriteString(filePath, ndjsonContent);

            outputFiles.push({
                'type: "Bundle",
                url: string `${exportServiceBaseUrl}/fhir/_export/download/${jobId}/${fileName}`,
                count: totalCount
            });

            log:printDebug(string `Export Job ${jobId}: Generated ${fileName} with ${totalCount} total resources`);
        } else {
            // Separate files per resource type (default)
            foreach var [resType, resources] in resourcesByType.entries() {
                // Apply type filter if specified
                if typeFilter is string[] && !typeFilter.some(t => t == resType) {
                    continue;
                }
                if resources.length() > 0 {
                    string fileName = resType + ".ndjson";
                    string filePath = jobDir + fileName;

                    // Write NDJSON (one resource per line)
                    string ndjsonContent = "";
                    foreach json res in resources {
                        ndjsonContent += res.toJsonString() + "\n";
                    }

                    check io:fileWriteString(filePath, ndjsonContent);

                    outputFiles.push({
                        'type: resType,
                        url: string `${exportServiceBaseUrl}/fhir/_export/download/${jobId}/${fileName}`,
                        count: resources.length()
                    });

                    log:printDebug(string `Export Job ${jobId}: Generated ${fileName} with ${resources.length()} resources`);
                }
            }
        }

        // Update job status to completed
        json jobMetadata = check io:fileReadJson(metadataPath);
        ExportJob job = check jobMetadata.cloneWithType(ExportJob);
        job.status = "completed";
        job.output = outputFiles;
        check io:fileWriteJson(metadataPath, job.toJson());

        log:printInfo(string `Export Job ${jobId}: Completed successfully with ${outputFiles.length()} files`);

        // Create AuditEvent for completion
        createExportAuditEvent(jobId, string `Export Job ${jobId} Completed`, "0", patientId);

    } on fail error e {
        // Update job status to failed
        string jobDir = EXPORT_DIR + jobId + "/";
        string metadataPath = jobDir + JOB_METADATA_FILE;

        do {
            json jobMetadata = check io:fileReadJson(metadataPath);
            ExportJob job = check jobMetadata.cloneWithType(ExportJob);
            job.status = "failed";
            job.errorMessage = e.message();
            check io:fileWriteJson(metadataPath, job.toJson());
        } on fail error metadataError {
            log:printError(string `Export Job ${jobId}: Failed to update job metadata: ${metadataError.message()}`);
        }

        log:printError(string `Export Job ${jobId}: Failed - ${e.message()}`);

        // Create AuditEvent for failure
        createExportAuditEvent(jobId, string `Export Job ${jobId} Failed: ${e.message()}`, "8", patientId);
    }
}

// Helper to create AuditEvent for export jobs
isolated function createExportAuditEvent(string jobId, string status, string outcome, string? patientId = ()) {
    // Construct AuditEvent
    international401:AuditEvent auditEvent = {
        id: uuid:createType1AsString(),
        'type: {
            system: "http://terminology.hl7.org/CodeSystem/audit-event-type",
            code: "rest",
            display: "RESTful Operation"
        },
        subtype: [
            {
                system: "http://hl7.org/fhir/restful-interaction",
                code: "operation",
                display: "Export Operation"
            }
        ],
        action: "E", // Execute
        recorded: time:utcToString(time:utcNow()),
        outcome: outcome, // code
        outcomeDesc: status,
        agent: [
            {
                'type: {
                    coding: [
                        {
                            system: "http://terminology.hl7.org/CodeSystem/v3-ParticipationType",
                            code: "AUT",
                            display: "Author"
                        }
                    ]
                },
                who: {
                    reference: "Device/fhir-server",
                    display: serverName
                },
                requestor: true
            }
        ],
        'source: {
            observer: {
                reference: "Device/fhir-server",
                display: serverName
            }
        },
        entity: [
            {
                'type: {
                    system: "http://terminology.hl7.org/CodeSystem/audit-entity-type",
                    code: "2", // System Object
                    display: "System Object"
                },
                role: {
                    system: "http://terminology.hl7.org/CodeSystem/object-role",
                    code: "24", // Query
                    display: "Query"
                }
            }
        ]
    };

    if patientId is string {
        international401:AuditEventEntity entity = {
            'type: {
                system: "http://terminology.hl7.org/CodeSystem/audit-entity-type",
                code: "1", // Person
                display: "Person"
            },
            role: {
                system: "http://terminology.hl7.org/CodeSystem/object-role",
                code: "1", // Patient
                display: "Patient"
            },
            what: {
                reference: string `Patient/${patientId}`
            }
        };
        international401:AuditEventEntity[]? entities = auditEvent.entity;
        if entities is international401:AuditEventEntity[] {
            entities.push(entity);
        } else {
            auditEvent.entity = [entity];
        }
    }

    // Make auditEvent immutable for safe transfer to async worker
    international401:AuditEvent & readonly auditEventReadOnly = auditEvent.cloneReadOnly();

    // Save AuditEvent asynchronously
    future<()> _ = start saveAuditEvent(jobId, auditEventReadOnly.toJson());
}

// Helper to save AuditEvent asynchronously
isolated function saveAuditEvent(string jobId, json auditEventJson) {
    any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("AuditEvent", auditEventJson);
    if result is r4:FHIRError {
        log:printError(string `Failed to create AuditEvent for job ${jobId}: ${result.message()}`);
    }
}

// Utility function to check export job status
function getExportStatus(string jobId) returns http:Response|r4:FHIRError {
    // Read job metadata from file
    string jobDir = EXPORT_DIR + jobId + "/";
    string metadataPath = jobDir + JOB_METADATA_FILE;

    // Check if job directory exists
    boolean|error dirExists = file:test(jobDir, file:EXISTS);
    if dirExists is error || !dirExists {
        return r4:createFHIRError("Export job not found", r4:ERROR, r4:PROCESSING, httpStatusCode = http:STATUS_NOT_FOUND);
    }

    // Read job metadata
    json|error jobMetadata = io:fileReadJson(metadataPath);
    if jobMetadata is error {
        log:printError(string `Failed to read job metadata for ${jobId}: ${jobMetadata.message()}`);
        return r4:createFHIRError("Failed to read export job status", r4:ERROR, r4:PROCESSING, httpStatusCode = http:STATUS_INTERNAL_SERVER_ERROR);
    }

    ExportJob|error job = jobMetadata.cloneWithType(ExportJob);
    if job is error {
        log:printError(string `Failed to parse job metadata for ${jobId}: ${job.message()}`);
        return r4:createFHIRError("Invalid export job metadata", r4:ERROR, r4:PROCESSING, httpStatusCode = http:STATUS_INTERNAL_SERVER_ERROR);
    }

    http:Response response = new;

    if job.status == "in-progress" {
        // Still processing
        response.statusCode = 202;
        response.setHeader("X-Progress", "Processing export job");
        return response;
    } else if job.status == "completed" {
        // Export completed - return manifest
        response.statusCode = 200;
        response.setHeader("Content-Type", "application/json");

        // Convert ExportFile[] to json array
        json[] outputJson = [];
        foreach ExportFile exportFile in job.output {
            outputJson.push({
                "type": exportFile.'type,
                "url": exportFile.url,
                "count": exportFile.count
            });
        }

        json manifest = {
            "transactionTime": job.transactionTime,
            "request": job.request,
            "requiresAccessToken": false,
            "output": outputJson,
            "error": []
        };

        response.setJsonPayload(manifest);
        return response;
    } else {
        // Failed
        return r4:createFHIRError(job.errorMessage ?: "Export failed", r4:ERROR, r4:PROCESSING, httpStatusCode = http:STATUS_INTERNAL_SERVER_ERROR);
    }
}

// Utility function to download export file
function downloadExportFile(string jobId, string fileName) returns http:Response|r4:FHIRError {
    // Read job metadata from file
    string jobDir = EXPORT_DIR + jobId + "/";
    string metadataPath = jobDir + JOB_METADATA_FILE;

    // Check if job directory exists
    boolean|error dirExists = file:test(jobDir, file:EXISTS);
    if dirExists is error || !dirExists {
        return r4:createFHIRError("Export job not found", r4:ERROR, r4:PROCESSING, httpStatusCode = http:STATUS_NOT_FOUND);
    }

    // Read and validate job metadata
    json|error jobMetadata = io:fileReadJson(metadataPath);
    if jobMetadata is error {
        return r4:createFHIRError("Failed to read export job metadata", r4:ERROR, r4:PROCESSING, httpStatusCode = http:STATUS_INTERNAL_SERVER_ERROR);
    }

    ExportJob|error job = jobMetadata.cloneWithType(ExportJob);
    if job is error {
        return r4:createFHIRError("Invalid export job metadata", r4:ERROR, r4:PROCESSING, httpStatusCode = http:STATUS_INTERNAL_SERVER_ERROR);
    }

    if job.status != "completed" {
        return r4:createFHIRError("Export job not completed", r4:ERROR, r4:PROCESSING, httpStatusCode = http:STATUS_BAD_REQUEST);
    }

    // Read file
    string filePath = EXPORT_DIR + jobId + "/" + fileName;

    do {
        string fileContent = check io:fileReadString(filePath);

        http:Response response = new;
        response.statusCode = 200;
        response.setHeader("Content-Type", "application/fhir+ndjson");
        response.setHeader("Content-Disposition", string `attachment; filename="${fileName}"`);
        response.setTextPayload(fileContent);

        return response;
    } on fail error e {
        log:printError(string `Failed to read export file: ${e.message()}`);
        return r4:createFHIRError(string `File not found: ${fileName}`, r4:ERROR, r4:PROCESSING, httpStatusCode = http:STATUS_NOT_FOUND);
    }
}

// Utility function to handle $validate operation
isolated function performValidateOperation(string resourceType, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
    log:printDebug(string `${resourceType}: Validate - Start Execution`);
    do {
        // Extract the resource from Parameters
        international401:ParametersParameter[]? parameters = params.'parameter;

        if parameters is () || parameters.length() == 0 {
            return r4:createFHIRError("No parameters provided for validation", r4:ERROR, r4:INVALID, httpStatusCode = http:STATUS_BAD_REQUEST);
        }

        json? resourceToValidate = ();

        // Extract resource from parameters
        foreach var param in parameters {
            if param.name == "resource" {
                anydata? resourceData = param.'resource;
                if resourceData is () {
                    return r4:createFHIRError("No resource found in Parameters", r4:ERROR, r4:INVALID, httpStatusCode = http:STATUS_BAD_REQUEST);
                }
                resourceToValidate = resourceData.toJson();
            }
        }

        if resourceToValidate is () {
            return r4:createFHIRError("No resource found in Parameters", r4:ERROR, r4:INVALID, httpStatusCode = http:STATUS_BAD_REQUEST);
        }

        // Validate using the FHIR validator
        var validationResult = validator:validate(resourceToValidate);

        r4:OperationOutcome outcome;

        if validationResult is error {
            // Validation failed - extract detailed errors
            log:printInfo(string `${resourceType}: Validation - Failed with errors`);

            FHIRValidationErrorDetail & readonly detail = <FHIRValidationErrorDetail & readonly>validationResult.detail();
            validator:FHIRValidationIssueDetail issues = detail.issues[0];
            r4:FHIRIssueDetail[] issueArray = [];

            string[]? errorInIssue = issues.detailedErrors;
            if errorInIssue != () {
                foreach var i in 0 ..< errorInIssue.length() {
                    r4:FHIRIssueDetail issue = {
                        severity: issues.severity,
                        code: issues.code,
                        diagnostic: errorInIssue[i],
                        expression: issues.expression,
                        details: ()
                    };
                    issueArray.push(issue);
                }
            }

            // Convert FHIRIssueDetail to OperationOutcomeIssue
            r4:OperationOutcomeIssue[] opIssueArray = [];
            foreach var i in 0 ..< issueArray.length() {
                r4:OperationOutcomeIssue opIssue = issueDetailToOperationOutcomeIssue(issueArray[i]);
                opIssueArray.push(opIssue);
            }

            outcome = {
                resourceType: "OperationOutcome",
                issue: opIssueArray
            };
        } else {
            // Validation successful
            log:printInfo(string `${resourceType}: Validation - Success`);
            outcome = {
                resourceType: "OperationOutcome",
                issue: [
                    {
                        severity: "information",
                        code: "informational",
                        diagnostics: "Validation successful"
                    }
                ]
            };
        }

        // Return OperationOutcome directly (HTTP 200)
        return outcome;
    } on fail error e {
        log:printError(string `Error validating ${resourceType}: ${e.message()}`);
        return r4:createFHIRError(string `Validation operation failed: ${e.message()}`, r4:ERROR, r4:PROCESSING, httpStatusCode = http:STATUS_INTERNAL_SERVER_ERROR);
    }
}

// # Export Endpoints Service (for async bulk data export)
service /fhir/_export on new http:Listener(exportServicePort) {

    // Check export job status
    resource function get status/[string jobId]() returns http:Response|r4:FHIRError {
        return getExportStatus(jobId);
    }

    // Download export file
    resource function get download/[string jobId]/[string fileName]() returns http:Response|r4:FHIRError {
        return downloadExportFile(jobId, fileName);
    }
}

// // # Appointment API                                                                                                          #
// 
service /fhir/r4/Appointment on new fhirr4:Listener(config = r4_api_config:appointmentApiConfig) {
    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("Appointment", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns Appointment|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("Appointment", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Appointment, "Appointment");
        return <Appointment|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns Appointment|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("Appointment", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Appointment, "Appointment");
        return <Appointment|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, Appointment appointment) returns Appointment|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("Appointment", appointment.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Appointment, "Appointment");
        return <Appointment|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, Appointment appointment) returns Appointment|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("Appointment", id, appointment.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Appointment, "Appointment");
        return <Appointment|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns Appointment|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("Appointment", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Appointment, "Appointment");
        return <Appointment|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("Appointment", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("Appointment", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("Appointment");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("Appointment", params);
    }
}

// // # Account API                                                                                                          #
// 
service /fhir/r4/Account on new fhirr4:Listener(config = r4_api_config:accountApiConfig) {
    // Search for resources using /Account?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("Account", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns Account|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("Account", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Account, "Account");
        return <Account|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns Account|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("Account", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Account, "Account");
        return <Account|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, Account account) returns Account|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("Account", account.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Account, "Account");
        return <Account|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, Account account) returns Account|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("Account", id, account.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Account, "Account");
        return <Account|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns Account|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("Account", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Account, "Account");
        return <Account|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("Account", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("Account", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("Account");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("Account", params);
    }
}

// // # Invoice API                                                                                                          #
// 
service /fhir/r4/Invoice on new fhirr4:Listener(config = r4_api_config:invoiceApiConfig) {
    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("Invoice", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns Invoice|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("Invoice", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Invoice, "Invoice");
        return <Invoice|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns Invoice|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("Invoice", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Invoice, "Invoice");
        return <Invoice|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, Invoice invoice) returns Invoice|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("Invoice", invoice.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Invoice, "Invoice");
        return <Invoice|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, Invoice invoice) returns Invoice|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("Invoice", id, invoice.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Invoice, "Invoice");
        return <Invoice|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns Invoice|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("Invoice", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Invoice, "Invoice");
        return <Invoice|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("Invoice", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("Invoice", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("Invoice");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("Invoice", params);
    }
}

// // # CatalogEntry API                                                                                                          #
// 
service /fhir/r4/CatalogEntry on new fhirr4:Listener(config = r4_api_config:catalogentryApiConfig) {
    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("CatalogEntry", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns CatalogEntry|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("CatalogEntry", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, CatalogEntry, "CatalogEntry");
        return <CatalogEntry|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns CatalogEntry|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("CatalogEntry", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, CatalogEntry, "CatalogEntry");
        return <CatalogEntry|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, CatalogEntry catalogentry) returns CatalogEntry|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("CatalogEntry", catalogentry.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, CatalogEntry, "CatalogEntry");
        return <CatalogEntry|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, CatalogEntry catalogentry) returns CatalogEntry|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("CatalogEntry", id, catalogentry.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, CatalogEntry, "CatalogEntry");
        return <CatalogEntry|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns CatalogEntry|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("CatalogEntry", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, CatalogEntry, "CatalogEntry");
        return <CatalogEntry|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("CatalogEntry", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("CatalogEntry", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("CatalogEntry");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("CatalogEntry", params);
    }
}

// // # EventDefinition API                                                                                                          #
// 
service /fhir/r4/EventDefinition on new fhirr4:Listener(config = r4_api_config:eventdefinitionApiConfig) {
    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("EventDefinition", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns EventDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("EventDefinition", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, EventDefinition, "EventDefinition");
        return <EventDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns EventDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("EventDefinition", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, EventDefinition, "EventDefinition");
        return <EventDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, EventDefinition eventdefinition) returns EventDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("EventDefinition", eventdefinition.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, EventDefinition, "EventDefinition");
        return <EventDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, EventDefinition eventdefinition) returns EventDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("EventDefinition", id, eventdefinition.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, EventDefinition, "EventDefinition");
        return <EventDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns EventDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("EventDefinition", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, EventDefinition, "EventDefinition");
        return <EventDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("EventDefinition", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("EventDefinition", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("EventDefinition");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("EventDefinition", params);
    }
}

// // # DocumentManifest API                                                                                                          #
// 
service /fhir/r4/DocumentManifest on new fhirr4:Listener(config = r4_api_config:documentmanifestApiConfig) {
    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("DocumentManifest", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns DocumentManifest|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("DocumentManifest", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, DocumentManifest, "DocumentManifest");
        return <DocumentManifest|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns DocumentManifest|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("DocumentManifest", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, DocumentManifest, "DocumentManifest");
        return <DocumentManifest|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, DocumentManifest documentmanifest) returns DocumentManifest|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("DocumentManifest", documentmanifest.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, DocumentManifest, "DocumentManifest");
        return <DocumentManifest|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, DocumentManifest documentmanifest) returns DocumentManifest|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("DocumentManifest", id, documentmanifest.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, DocumentManifest, "DocumentManifest");
        return <DocumentManifest|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns DocumentManifest|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("DocumentManifest", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, DocumentManifest, "DocumentManifest");
        return <DocumentManifest|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("DocumentManifest", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("DocumentManifest", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("DocumentManifest");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("DocumentManifest", params);
    }
}

// // # MessageDefinition API                                                                                                          #
// 
service /fhir/r4/MessageDefinition on new fhirr4:Listener(config = r4_api_config:messagedefinitionApiConfig) {
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("MessageDefinition", fhirContext);
    }

    isolated resource function get [string id](r4:FHIRContext fhirContext) returns MessageDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("MessageDefinition", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MessageDefinition, "MessageDefinition");
        return <MessageDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns MessageDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("MessageDefinition", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MessageDefinition, "MessageDefinition");
        return <MessageDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    isolated resource function post .(r4:FHIRContext fhirContext, MessageDefinition messagedefinition) returns MessageDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("MessageDefinition", messagedefinition.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MessageDefinition, "MessageDefinition");
        return <MessageDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    isolated resource function put [string id](r4:FHIRContext fhirContext, MessageDefinition messagedefinition) returns MessageDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("MessageDefinition", id, messagedefinition.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MessageDefinition, "MessageDefinition");
        return <MessageDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns MessageDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("MessageDefinition", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MessageDefinition, "MessageDefinition");
        return <MessageDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("MessageDefinition", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("MessageDefinition", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("MessageDefinition");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("MessageDefinition", params);
    }
}

// // # Goal API                                                                                                          #
// 
service /fhir/r4/Goal on new fhirr4:Listener(config = r4_api_config:goalApiConfig) {
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("Goal", fhirContext);
    }

    isolated resource function get [string id](r4:FHIRContext fhirContext) returns Goal|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("Goal", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Goal, "Goal");
        return <Goal|r4:OperationOutcome|r4:FHIRError>converted;
    }

    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns Goal|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("Goal", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Goal, "Goal");
        return <Goal|r4:OperationOutcome|r4:FHIRError>converted;
    }

    isolated resource function post .(r4:FHIRContext fhirContext, Goal goal) returns Goal|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("Goal", goal.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Goal, "Goal");
        return <Goal|r4:OperationOutcome|r4:FHIRError>converted;
    }

    isolated resource function put [string id](r4:FHIRContext fhirContext, Goal goal) returns Goal|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("Goal", id, goal.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Goal, "Goal");
        return <Goal|r4:OperationOutcome|r4:FHIRError>converted;
    }

    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns Goal|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("Goal", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Goal, "Goal");
        return <Goal|r4:OperationOutcome|r4:FHIRError>converted;
    }

    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("Goal", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("Goal", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("Goal");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("Goal", params);
    }
}

// // # MedicinalProductPackaged API                                                                                                          #
// 
service /fhir/r4/MedicinalProductPackaged on new fhirr4:Listener(config = r4_api_config:medicinalproductpackagedApiConfig) {
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("MedicinalProductPackaged", fhirContext);
    }

    isolated resource function get [string id](r4:FHIRContext fhirContext) returns MedicinalProductPackaged|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("MedicinalProductPackaged", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicinalProductPackaged, "MedicinalProductPackaged");
        return <MedicinalProductPackaged|r4:OperationOutcome|r4:FHIRError>converted;
    }

    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns MedicinalProductPackaged|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("MedicinalProductPackaged", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicinalProductPackaged, "MedicinalProductPackaged");
        return <MedicinalProductPackaged|r4:OperationOutcome|r4:FHIRError>converted;
    }

    isolated resource function post .(r4:FHIRContext fhirContext, MedicinalProductPackaged medicinalproductpackaged) returns MedicinalProductPackaged|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("MedicinalProductPackaged", medicinalproductpackaged.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicinalProductPackaged, "MedicinalProductPackaged");
        return <MedicinalProductPackaged|r4:OperationOutcome|r4:FHIRError>converted;
    }

    isolated resource function put [string id](r4:FHIRContext fhirContext, MedicinalProductPackaged medicinalproductpackaged) returns MedicinalProductPackaged|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("MedicinalProductPackaged", id, medicinalproductpackaged.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicinalProductPackaged, "MedicinalProductPackaged");
        return <MedicinalProductPackaged|r4:OperationOutcome|r4:FHIRError>converted;
    }

    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns MedicinalProductPackaged|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("MedicinalProductPackaged", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicinalProductPackaged, "MedicinalProductPackaged");
        return <MedicinalProductPackaged|r4:OperationOutcome|r4:FHIRError>converted;
    }

    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("MedicinalProductPackaged", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("MedicinalProductPackaged", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("MedicinalProductPackaged");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("MedicinalProductPackaged", params);
    }
}

// // # Endpoint API                                                                                                          #
// 
service /fhir/r4/Endpoint on new fhirr4:Listener(config = r4_api_config:endpointApiConfig) {
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("Endpoint", fhirContext);
    }

    isolated resource function get [string id](r4:FHIRContext fhirContext) returns Endpoint|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("Endpoint", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Endpoint, "Endpoint");
        return <Endpoint|r4:OperationOutcome|r4:FHIRError>converted;
    }

    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns Endpoint|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("Endpoint", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Endpoint, "Endpoint");
        return <Endpoint|r4:OperationOutcome|r4:FHIRError>converted;
    }

    isolated resource function post .(r4:FHIRContext fhirContext, Endpoint endpoint) returns Endpoint|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("Endpoint", endpoint.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Endpoint, "Endpoint");
        return <Endpoint|r4:OperationOutcome|r4:FHIRError>converted;
    }

    isolated resource function put [string id](r4:FHIRContext fhirContext, Endpoint endpoint) returns Endpoint|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("Endpoint", id, endpoint.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Endpoint, "Endpoint");
        return <Endpoint|r4:OperationOutcome|r4:FHIRError>converted;
    }

    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns Endpoint|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("Endpoint", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Endpoint, "Endpoint");
        return <Endpoint|r4:OperationOutcome|r4:FHIRError>converted;
    }

    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("Endpoint", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("Endpoint", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("Endpoint");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("Endpoint", params);
    }
}

// // # EnrollmentRequest API                                                                                                          #
// 
service /fhir/r4/EnrollmentRequest on new fhirr4:Listener(config = r4_api_config:enrollmentrequestApiConfig) {
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("EnrollmentRequest", fhirContext);
    }

    isolated resource function get [string id](r4:FHIRContext fhirContext) returns EnrollmentRequest|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("EnrollmentRequest", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, EnrollmentRequest, "EnrollmentRequest");
        return <EnrollmentRequest|r4:OperationOutcome|r4:FHIRError>converted;
    }

    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns EnrollmentRequest|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("EnrollmentRequest", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, EnrollmentRequest, "EnrollmentRequest");
        return <EnrollmentRequest|r4:OperationOutcome|r4:FHIRError>converted;
    }

    isolated resource function post .(r4:FHIRContext fhirContext, EnrollmentRequest enrollmentrequest) returns EnrollmentRequest|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("EnrollmentRequest", enrollmentrequest.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, EnrollmentRequest, "EnrollmentRequest");
        return <EnrollmentRequest|r4:OperationOutcome|r4:FHIRError>converted;
    }

    isolated resource function put [string id](r4:FHIRContext fhirContext, EnrollmentRequest enrollmentrequest) returns EnrollmentRequest|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("EnrollmentRequest", id, enrollmentrequest.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, EnrollmentRequest, "EnrollmentRequest");
        return <EnrollmentRequest|r4:OperationOutcome|r4:FHIRError>converted;
    }

    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns EnrollmentRequest|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("EnrollmentRequest", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, EnrollmentRequest, "EnrollmentRequest");
        return <EnrollmentRequest|r4:OperationOutcome|r4:FHIRError>converted;
    }

    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("EnrollmentRequest", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("EnrollmentRequest", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("EnrollmentRequest");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("EnrollmentRequest", params);
    }
}

// // # Consent API                                                                                                          #
// 
service /fhir/r4/Consent on new fhirr4:Listener(config = r4_api_config:consentApiConfig) {
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("Consent", fhirContext);
    }

    isolated resource function get [string id](r4:FHIRContext fhirContext) returns Consent|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("Consent", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Consent, "Consent");
        return <Consent|r4:OperationOutcome|r4:FHIRError>converted;
    }

    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns Consent|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("Consent", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Consent, "Consent");
        return <Consent|r4:OperationOutcome|r4:FHIRError>converted;
    }

    isolated resource function post .(r4:FHIRContext fhirContext, Consent consent) returns Consent|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("Consent", consent.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Consent, "Consent");
        return <Consent|r4:OperationOutcome|r4:FHIRError>converted;
    }

    isolated resource function put [string id](r4:FHIRContext fhirContext, Consent consent) returns Consent|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("Consent", id, consent.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Consent, "Consent");
        return <Consent|r4:OperationOutcome|r4:FHIRError>converted;
    }

    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns Consent|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("Consent", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Consent, "Consent");
        return <Consent|r4:OperationOutcome|r4:FHIRError>converted;
    }

    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("Consent", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("Consent", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("Consent");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("Consent", params);
    }
}

// // # CapabilityStatement API                                                                                                          #
// 
service /fhir/r4/CapabilityStatement on new fhirr4:Listener(config = r4_api_config:capabilitystatementApiConfig) {

    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("CapabilityStatement", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns CapabilityStatement|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("CapabilityStatement", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, CapabilityStatement, "CapabilityStatement");
        return <CapabilityStatement|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    // isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns CapabilityStatement|r4:OperationOutcome|r4:FHIRError {
    //     any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("CapabilityStatement", id, vid);
    //     if result is any {
    //         return <CapabilityStatement>result;
    //     }
    //     return result;
    // }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, CapabilityStatement capabilitystatement) returns CapabilityStatement|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("CapabilityStatement", capabilitystatement.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, CapabilityStatement, "CapabilityStatement");
        return <CapabilityStatement|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, CapabilityStatement capabilitystatement) returns CapabilityStatement|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("CapabilityStatement", id, capabilitystatement.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, CapabilityStatement, "CapabilityStatement");
        return <CapabilityStatement|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns CapabilityStatement|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("CapabilityStatement", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, CapabilityStatement, "CapabilityStatement");
        return <CapabilityStatement|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("CapabilityStatement", id);
    }

    // Retrieve the update history for a particular resource.
    // isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
    //     return performResourceHistory("CapabilityStatement", id);
    // }

    // Retrieve the update history for all resources.
    // isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
    //     return performAllResourceHistory("CapabilityStatement");
    // }

    // Validate operation - accepts Parameters resource containing the resource to validate
    // isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
    //     return performValidateOperation("Appointment", params);
    // }
}

// // # Measure API                                                                                                          #
// 
service /fhir/r4/Measure on new fhirr4:Listener(config = r4_api_config:measureApiConfig) {

    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("Measure", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns Measure|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("Measure", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Measure, "Measure");
        return <Measure|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns Measure|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("Measure", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Measure, "Measure");
        return <Measure|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, Measure measure) returns Measure|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("Measure", measure.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Measure, "Measure");
        return <Measure|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, Measure measure) returns Measure|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("Measure", id, measure.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Measure, "Measure");
        return <Measure|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns Measure|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("Measure", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Measure, "Measure");
        return <Measure|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("Measure", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("Measure", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("Measure");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("Measure", params);
    }
}

// // # Medication API                                                                                                          #
// 
service /fhir/r4/Medication on new fhirr4:Listener(config = r4_api_config:medicationApiConfig) {
    // Search for resources using /Medication?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("Medication", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns Medication|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("Medication", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Medication, "Medication");
        return <Medication|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns Medication|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("Medication", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Medication, "Medication");
        return <Medication|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, Medication medication) returns Medication|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("Medication", medication.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Medication, "Medication");
        return <Medication|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, Medication medication) returns Medication|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("Medication", id, medication.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Medication, "Medication");
        return <Medication|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns Medication|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("Medication", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Medication, "Medication");
        return <Medication|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("Medication", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("Medication", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("Medication");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("Medication", params);
    }
}

// // # ResearchSubject API                                                                                                          #
// 
service /fhir/r4/ResearchSubject on new fhirr4:Listener(config = r4_api_config:researchsubjectApiConfig) {
    // Search for resources using /ResearchSubject?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("ResearchSubject", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns ResearchSubject|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("ResearchSubject", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ResearchSubject, "ResearchSubject");
        return <ResearchSubject|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns ResearchSubject|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("ResearchSubject", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ResearchSubject, "ResearchSubject");
        return <ResearchSubject|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, ResearchSubject researchsubject) returns ResearchSubject|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("ResearchSubject", researchsubject.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ResearchSubject, "ResearchSubject");
        return <ResearchSubject|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, ResearchSubject researchsubject) returns ResearchSubject|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("ResearchSubject", id, researchsubject.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ResearchSubject, "ResearchSubject");
        return <ResearchSubject|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns ResearchSubject|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("ResearchSubject", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ResearchSubject, "ResearchSubject");
        return <ResearchSubject|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("ResearchSubject", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("ResearchSubject", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("ResearchSubject");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("ResearchSubject", params);
    }
}

// // # Subscription API                                                                                                          #
// 
service /fhir/r4/Subscription on new fhirr4:Listener(config = r4_api_config:subscriptionApiConfig) {
    // Search for resources using /Subscription?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("Subscription", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns Subscription|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("Subscription", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Subscription, "Subscription");
        return <Subscription|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns Subscription|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("Subscription", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Subscription, "Subscription");
        return <Subscription|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, Subscription subscription) returns Subscription|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("Subscription", subscription.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Subscription, "Subscription");
        return <Subscription|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, Subscription subscription) returns Subscription|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("Subscription", id, subscription.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Subscription, "Subscription");
        return <Subscription|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns Subscription|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("Subscription", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Subscription, "Subscription");
        return <Subscription|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("Subscription", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("Subscription", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("Subscription");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("Subscription", params);
    }
}

// // # GraphDefinition API                                                                                                          #
// 
service /fhir/r4/GraphDefinition on new fhirr4:Listener(config = r4_api_config:graphdefinitionApiConfig) {
    // Search for resources using /GraphDefinition?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("GraphDefinition", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns GraphDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("GraphDefinition", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, GraphDefinition, "GraphDefinition");
        return <GraphDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns GraphDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("GraphDefinition", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, GraphDefinition, "GraphDefinition");
        return <GraphDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, GraphDefinition graphdefinition) returns GraphDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("GraphDefinition", graphdefinition.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, GraphDefinition, "GraphDefinition");
        return <GraphDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, GraphDefinition graphdefinition) returns GraphDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("GraphDefinition", id, graphdefinition.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, GraphDefinition, "GraphDefinition");
        return <GraphDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns GraphDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("GraphDefinition", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, GraphDefinition, "GraphDefinition");
        return <GraphDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("GraphDefinition", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("GraphDefinition", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("GraphDefinition");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("GraphDefinition", params);
    }
}

// // # DocumentReference API                                                                                                          #
// 
service /fhir/r4/DocumentReference on new fhirr4:Listener(config = r4_api_config:documentreferenceApiConfig) {
    // Search for resources using /DocumentReference?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("DocumentReference", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns DocumentReference|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("DocumentReference", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, DocumentReference, "DocumentReference");
        return <DocumentReference|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns DocumentReference|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("DocumentReference", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, DocumentReference, "DocumentReference");
        return <DocumentReference|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, DocumentReference documentreference) returns DocumentReference|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("DocumentReference", documentreference.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, DocumentReference, "DocumentReference");
        return <DocumentReference|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, DocumentReference documentreference) returns DocumentReference|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("DocumentReference", id, documentreference.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, DocumentReference, "DocumentReference");
        return <DocumentReference|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns DocumentReference|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("DocumentReference", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, DocumentReference, "DocumentReference");
        return <DocumentReference|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("DocumentReference", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("DocumentReference", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("DocumentReference");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("DocumentReference", params);
    }
}

// // # Parameters API                                                                                                          #
// 
service /fhir/r4/Parameters on new fhirr4:Listener(config = r4_api_config:parametersApiConfig) {
    // Search for resources using /Parameters?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("Parameters", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns Parameters|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("Parameters", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Parameters, "Parameters");
        return <Parameters|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns Parameters|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("Parameters", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Parameters, "Parameters");
        return <Parameters|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, Parameters parameters) returns Parameters|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("Parameters", parameters.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Parameters, "Parameters");
        return <Parameters|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, Parameters parameters) returns Parameters|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("Parameters", id, parameters.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Parameters, "Parameters");
        return <Parameters|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns Parameters|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("Parameters", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Parameters, "Parameters");
        return <Parameters|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("Parameters", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("Parameters", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("Parameters");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("Parameters", params);
    }
}

// // # CoverageEligibilityResponse API                                                                                                          #
// 
service /fhir/r4/CoverageEligibilityResponse on new fhirr4:Listener(config = r4_api_config:coverageeligibilityresponseApiConfig) {
    // Search for resources using /CoverageEligibilityResponse?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("CoverageEligibilityResponse", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns CoverageEligibilityResponse|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("CoverageEligibilityResponse", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, CoverageEligibilityResponse, "CoverageEligibilityResponse");
        return <CoverageEligibilityResponse|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns CoverageEligibilityResponse|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("CoverageEligibilityResponse", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, CoverageEligibilityResponse, "CoverageEligibilityResponse");
        return <CoverageEligibilityResponse|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, CoverageEligibilityResponse coverageeligibilityresponse) returns CoverageEligibilityResponse|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("CoverageEligibilityResponse", coverageeligibilityresponse.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, CoverageEligibilityResponse, "CoverageEligibilityResponse");
        return <CoverageEligibilityResponse|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, CoverageEligibilityResponse coverageeligibilityresponse) returns CoverageEligibilityResponse|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("CoverageEligibilityResponse", id, coverageeligibilityresponse.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, CoverageEligibilityResponse, "CoverageEligibilityResponse");
        return <CoverageEligibilityResponse|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns CoverageEligibilityResponse|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("CoverageEligibilityResponse", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, CoverageEligibilityResponse, "CoverageEligibilityResponse");
        return <CoverageEligibilityResponse|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("CoverageEligibilityResponse", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("CoverageEligibilityResponse", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("CoverageEligibilityResponse");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("CoverageEligibilityResponse", params);
    }
}

// // # MeasureReport API                                                                                                          #
// 
service /fhir/r4/MeasureReport on new fhirr4:Listener(config = r4_api_config:measurereportApiConfig) {
    // Search for resources using /MeasureReport?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("MeasureReport", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns MeasureReport|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("MeasureReport", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MeasureReport, "MeasureReport");
        return <MeasureReport|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns MeasureReport|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("MeasureReport", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MeasureReport, "MeasureReport");
        return <MeasureReport|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, MeasureReport measurereport) returns MeasureReport|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("MeasureReport", measurereport.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MeasureReport, "MeasureReport");
        return <MeasureReport|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, MeasureReport measurereport) returns MeasureReport|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("MeasureReport", id, measurereport.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MeasureReport, "MeasureReport");
        return <MeasureReport|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns MeasureReport|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("MeasureReport", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MeasureReport, "MeasureReport");
        return <MeasureReport|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("CoverageEligibilityResponse", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("CoverageEligibilityResponse", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("CoverageEligibilityResponse");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("CoverageEligibilityResponse", params);
    }
}

// // # SubstanceReferenceInformation API                                                                                                          #
// 
service /fhir/r4/SubstanceReferenceInformation on new fhirr4:Listener(config = r4_api_config:substancereferenceinformationApiConfig) {
    // Search for resources using /SubstanceReferenceInformation?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("SubstanceReferenceInformation", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns SubstanceReferenceInformation|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("SubstanceReferenceInformation", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, SubstanceReferenceInformation, "SubstanceReferenceInformation");
        return <SubstanceReferenceInformation|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns SubstanceReferenceInformation|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("SubstanceReferenceInformation", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, SubstanceReferenceInformation, "SubstanceReferenceInformation");
        return <SubstanceReferenceInformation|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, SubstanceReferenceInformation substancereferenceinformation) returns SubstanceReferenceInformation|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("SubstanceReferenceInformation", substancereferenceinformation.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, SubstanceReferenceInformation, "SubstanceReferenceInformation");
        return <SubstanceReferenceInformation|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, SubstanceReferenceInformation substancereferenceinformation) returns SubstanceReferenceInformation|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("SubstanceReferenceInformation", id, substancereferenceinformation.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, SubstanceReferenceInformation, "SubstanceReferenceInformation");
        return <SubstanceReferenceInformation|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns SubstanceReferenceInformation|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("SubstanceReferenceInformation", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, SubstanceReferenceInformation, "SubstanceReferenceInformation");
        return <SubstanceReferenceInformation|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("SubstanceReferenceInformation", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("SubstanceReferenceInformation", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("SubstanceReferenceInformation");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("SubstanceReferenceInformation", params);
    }
}

// // # PractitionerRole API                                                                                                          #
// 
service /fhir/r4/PractitionerRole on new fhirr4:Listener(config = r4_api_config:practitionerroleApiConfig) {
    // Search for resources using /PractitionerRole?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("PractitionerRole", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns PractitionerRole|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("PractitionerRole", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, PractitionerRole, "PractitionerRole");
        return <PractitionerRole|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns PractitionerRole|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("PractitionerRole", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, PractitionerRole, "PractitionerRole");
        return <PractitionerRole|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, PractitionerRole practitionerrole) returns PractitionerRole|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("PractitionerRole", practitionerrole.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, PractitionerRole, "PractitionerRole");
        return <PractitionerRole|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, PractitionerRole practitionerrole) returns PractitionerRole|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("PractitionerRole", id, practitionerrole.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, PractitionerRole, "PractitionerRole");
        return <PractitionerRole|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns PractitionerRole|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("PractitionerRole", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, PractitionerRole, "PractitionerRole");
        return <PractitionerRole|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("PractitionerRole", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("PractitionerRole", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("PractitionerRole");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("PractitionerRole", params);
    }
}

// // # RelatedPerson API                                                                                                          #
// 
service /fhir/r4/RelatedPerson on new fhirr4:Listener(config = r4_api_config:relatedpersonApiConfig) {
    // Search for resources using /RelatedPerson?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("RelatedPerson", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns RelatedPerson|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("RelatedPerson", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, RelatedPerson, "RelatedPerson");
        return <RelatedPerson|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns RelatedPerson|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("RelatedPerson", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, RelatedPerson, "RelatedPerson");
        return <RelatedPerson|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, RelatedPerson relatedperson) returns RelatedPerson|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("RelatedPerson", relatedperson.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, RelatedPerson, "RelatedPerson");
        return <RelatedPerson|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, RelatedPerson relatedperson) returns RelatedPerson|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("RelatedPerson", id, relatedperson.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, RelatedPerson, "RelatedPerson");
        return <RelatedPerson|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns RelatedPerson|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("RelatedPerson", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, RelatedPerson, "RelatedPerson");
        return <RelatedPerson|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("RelatedPerson", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("RelatedPerson", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("RelatedPerson");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("RelatedPerson", params);
    }
}

// // # ServiceRequest API                                                                                                          #
// 
service /fhir/r4/ServiceRequest on new fhirr4:Listener(config = r4_api_config:servicerequestApiConfig) {
    // Search for resources using /ServiceRequest?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("ServiceRequest", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns ServiceRequest|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("ServiceRequest", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ServiceRequest, "ServiceRequest");
        return <ServiceRequest|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns ServiceRequest|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("ServiceRequest", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ServiceRequest, "ServiceRequest");
        return <ServiceRequest|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, ServiceRequest servicerequest) returns ServiceRequest|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("ServiceRequest", servicerequest.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ServiceRequest, "ServiceRequest");
        return <ServiceRequest|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, ServiceRequest servicerequest) returns ServiceRequest|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("ServiceRequest", id, servicerequest.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ServiceRequest, "ServiceRequest");
        return <ServiceRequest|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns ServiceRequest|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("ServiceRequest", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ServiceRequest, "ServiceRequest");
        return <ServiceRequest|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("ServiceRequest", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("ServiceRequest", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("ServiceRequest");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("ServiceRequest", params);
    }
}

// // # SupplyRequest API                                                                                                          #
// 
service /fhir/r4/SupplyRequest on new fhirr4:Listener(config = r4_api_config:supplyrequestApiConfig) {
    // Search for resources using /SupplyRequest?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("SupplyRequest", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns SupplyRequest|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("SupplyRequest", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, SupplyRequest, "SupplyRequest");
        return <SupplyRequest|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns SupplyRequest|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("SupplyRequest", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, SupplyRequest, "SupplyRequest");
        return <SupplyRequest|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, SupplyRequest supplyrequest) returns SupplyRequest|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("SupplyRequest", supplyrequest.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, SupplyRequest, "SupplyRequest");
        return <SupplyRequest|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, SupplyRequest supplyrequest) returns SupplyRequest|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("SupplyRequest", id, supplyrequest.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, SupplyRequest, "SupplyRequest");
        return <SupplyRequest|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns SupplyRequest|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("SupplyRequest", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, SupplyRequest, "SupplyRequest");
        return <SupplyRequest|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("SupplyRequest", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("SupplyRequest", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("SupplyRequest");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("SupplyRequest", params);
    }
}

// // # Practitioner API                                                                                                          #
// 
service /fhir/r4/Practitioner on new fhirr4:Listener(config = r4_api_config:practitionerApiConfig) {
    // Search for resources using /Practitioner?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("Practitioner", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns Practitioner|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("Practitioner", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Practitioner, "Practitioner");
        return <Practitioner|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns Practitioner|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("Practitioner", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Practitioner, "Practitioner");
        return <Practitioner|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, Practitioner practitioner) returns Practitioner|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("Practitioner", practitioner.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Practitioner, "Practitioner");
        return <Practitioner|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, Practitioner practitioner) returns Practitioner|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("Practitioner", id, practitioner.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Practitioner, "Practitioner");
        return <Practitioner|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns Practitioner|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("Practitioner", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Practitioner, "Practitioner");
        return <Practitioner|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("Practitioner", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("Practitioner", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("Practitioner");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("Practitioner", params);
    }
}

// // # VerificationResult API                                                                                                          #
// 
service /fhir/r4/VerificationResult on new fhirr4:Listener(config = r4_api_config:verificationresultApiConfig) {
    // Search for resources using /VerificationResult?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("VerificationResult", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns VerificationResult|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("VerificationResult", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, VerificationResult, "VerificationResult");
        return <VerificationResult|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns VerificationResult|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("VerificationResult", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, VerificationResult, "VerificationResult");
        return <VerificationResult|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, VerificationResult verificationresult) returns VerificationResult|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("VerificationResult", verificationresult.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, VerificationResult, "VerificationResult");
        return <VerificationResult|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, VerificationResult verificationresult) returns VerificationResult|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("VerificationResult", id, verificationresult.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, VerificationResult, "VerificationResult");
        return <VerificationResult|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns VerificationResult|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("VerificationResult", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, VerificationResult, "VerificationResult");
        return <VerificationResult|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("VerificationResult", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("VerificationResult", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("VerificationResult");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("VerificationResult", params);
    }
}

// // # SubstanceProtein API                                                                                                          #
// 
service /fhir/r4/SubstanceProtein on new fhirr4:Listener(config = r4_api_config:substanceproteinApiConfig) {
    // Search for resources using /SubstanceProtein?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("SubstanceProtein", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns SubstanceProtein|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("SubstanceProtein", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, SubstanceProtein, "SubstanceProtein");
        return <SubstanceProtein|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns SubstanceProtein|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("SubstanceProtein", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, SubstanceProtein, "SubstanceProtein");
        return <SubstanceProtein|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, SubstanceProtein substanceprotein) returns SubstanceProtein|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("SubstanceProtein", substanceprotein.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, SubstanceProtein, "SubstanceProtein");
        return <SubstanceProtein|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, SubstanceProtein substanceprotein) returns SubstanceProtein|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("SubstanceProtein", id, substanceprotein.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, SubstanceProtein, "SubstanceProtein");
        return <SubstanceProtein|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns SubstanceProtein|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("SubstanceProtein", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, SubstanceProtein, "SubstanceProtein");
        return <SubstanceProtein|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("SubstanceProtein", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("SubstanceProtein", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("SubstanceProtein");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("SubstanceProtein", params);
    }
}

// // # BodyStructure API                                                                                                          #
// 
service /fhir/r4/BodyStructure on new fhirr4:Listener(config = r4_api_config:bodystructureApiConfig) {
    // Search for resources using /BodyStructure?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("BodyStructure", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns BodyStructure|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("BodyStructure", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, BodyStructure, "BodyStructure");
        return <BodyStructure|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns BodyStructure|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("BodyStructure", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, BodyStructure, "BodyStructure");
        return <BodyStructure|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, BodyStructure bodystructure) returns BodyStructure|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("BodyStructure", bodystructure.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, BodyStructure, "BodyStructure");
        return <BodyStructure|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, BodyStructure bodystructure) returns BodyStructure|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("BodyStructure", id, bodystructure.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, BodyStructure, "BodyStructure");
        return <BodyStructure|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns BodyStructure|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("BodyStructure", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, BodyStructure, "BodyStructure");
        return <BodyStructure|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("BodyStructure", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("BodyStructure", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("BodyStructure");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("BodyStructure", params);
    }
}

// // # Slot API                                                                                                          #
// 
service /fhir/r4/Slot on new fhirr4:Listener(config = r4_api_config:slotApiConfig) {
    // Search for resources using /Slot?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("Slot", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns Slot|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("Slot", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Slot, "Slot");
        return <Slot|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns Slot|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("Slot", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Slot, "Slot");
        return <Slot|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, Slot slot) returns Slot|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("Slot", slot.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Slot, "Slot");
        return <Slot|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, Slot slot) returns Slot|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("Slot", id, slot.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Slot, "Slot");
        return <Slot|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns Slot|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("Slot", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Slot, "Slot");
        return <Slot|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("Slot", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("Slot", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("Slot");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("Slot", params);
    }
}

// // # Contract API                                                                                                          #
// 
service /fhir/r4/Contract on new fhirr4:Listener(config = r4_api_config:contractApiConfig) {
    // Search for resources using /Contract?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("Contract", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns Contract|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("Contract", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Contract, "Contract");
        return <Contract|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns Contract|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("Contract", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Contract, "Contract");
        return <Contract|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, Contract contract) returns Contract|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("Contract", contract.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Contract, "Contract");
        return <Contract|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, Contract contract) returns Contract|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("Contract", id, contract.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Contract, "Contract");
        return <Contract|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns Contract|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("Contract", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Contract, "Contract");
        return <Contract|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("Contract", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("Contract", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("Contract");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("Contract", params);
    }
}

// // # Person API                                                                                                          #
// 
service /fhir/r4/Person on new fhirr4:Listener(config = r4_api_config:personApiConfig) {
    // Search for resources using /Person?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("Person", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns Person|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("Person", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Person, "Person");
        return <Person|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns Person|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("Person", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Person, "Person");
        return <Person|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, Person person) returns Person|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("Person", person.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Person, "Person");
        return <Person|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, Person person) returns Person|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("Person", id, person.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Person, "Person");
        return <Person|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns Person|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("Person", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Person, "Person");
        return <Person|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("Person", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("Person", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("Person");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("Person", params);
    }
}

// // # RiskAssessment API                                                                                                          #
// 
service /fhir/r4/RiskAssessment on new fhirr4:Listener(config = r4_api_config:riskassessmentApiConfig) {
    // Search for resources using /RiskAssessment?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("RiskAssessment", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns RiskAssessment|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("RiskAssessment", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, RiskAssessment, "RiskAssessment");
        return <RiskAssessment|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns RiskAssessment|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("RiskAssessment", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, RiskAssessment, "RiskAssessment");
        return <RiskAssessment|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, RiskAssessment riskassessment) returns RiskAssessment|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("RiskAssessment", riskassessment.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, RiskAssessment, "RiskAssessment");
        return <RiskAssessment|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, RiskAssessment riskassessment) returns RiskAssessment|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("RiskAssessment", id, riskassessment.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, RiskAssessment, "RiskAssessment");
        return <RiskAssessment|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns RiskAssessment|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("RiskAssessment", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, RiskAssessment, "RiskAssessment");
        return <RiskAssessment|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("RiskAssessment", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("RiskAssessment", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("RiskAssessment");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("RiskAssessment", params);
    }
}

// // # Group API                                                                                                          #
// 
service /fhir/r4/Group on new fhirr4:Listener(config = r4_api_config:groupApiConfig) {
    // Everything operation - returns the Group and all related resources
    resource function get [string id]/\$everything(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performEverythingOperation("Group", id);
    }

    // Search for resources using /Group?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("Group", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns Group|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("Group", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Group, "Group");
        return <Group|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns Group|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("Group", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Group, "Group");
        return <Group|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, Group group) returns Group|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("Group", group.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Group, "Group");
        return <Group|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, Group group) returns Group|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("Group", id, group.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Group, "Group");
        return <Group|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns Group|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("Group", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Group, "Group");
        return <Group|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("Group", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("Group", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("Group");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("Group", params);
    }
}

// // # ResearchDefinition API                                                                                                          #
// 
service /fhir/r4/ResearchDefinition on new fhirr4:Listener(config = r4_api_config:researchdefinitionApiConfig) {
    // Search for resources using /ResearchDefinition?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("ResearchDefinition", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns ResearchDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("ResearchDefinition", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ResearchDefinition, "ResearchDefinition");
        return <ResearchDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns ResearchDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("ResearchDefinition", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ResearchDefinition, "ResearchDefinition");
        return <ResearchDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, ResearchDefinition researchdefinition) returns ResearchDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("ResearchDefinition", researchdefinition.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ResearchDefinition, "ResearchDefinition");
        return <ResearchDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, ResearchDefinition researchdefinition) returns ResearchDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("ResearchDefinition", id, researchdefinition.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ResearchDefinition, "ResearchDefinition");
        return <ResearchDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns ResearchDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("ResearchDefinition", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ResearchDefinition, "ResearchDefinition");
        return <ResearchDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("ResearchDefinition", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("ResearchDefinition", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("ResearchDefinition");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("ResearchDefinition", params);
    }
}

// // # PaymentNotice API                                                                                                          #
// 
service /fhir/r4/PaymentNotice on new fhirr4:Listener(config = r4_api_config:paymentnoticeApiConfig) {
    // Search for resources using /PaymentNotice?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("PaymentNotice", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns PaymentNotice|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("PaymentNotice", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, PaymentNotice, "PaymentNotice");
        return <PaymentNotice|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns PaymentNotice|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("PaymentNotice", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, PaymentNotice, "PaymentNotice");
        return <PaymentNotice|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, PaymentNotice paymentnotice) returns PaymentNotice|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("PaymentNotice", paymentnotice.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, PaymentNotice, "PaymentNotice");
        return <PaymentNotice|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, PaymentNotice paymentnotice) returns PaymentNotice|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("PaymentNotice", id, paymentnotice.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, PaymentNotice, "PaymentNotice");
        return <PaymentNotice|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns PaymentNotice|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("PaymentNotice", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, PaymentNotice, "PaymentNotice");
        return <PaymentNotice|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("PaymentNotice", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("PaymentNotice", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("PaymentNotice");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("PaymentNotice", params);
    }
}

// // # MedicinalProductManufactured API                                                                                                          #
// 
service /fhir/r4/MedicinalProductManufactured on new fhirr4:Listener(config = r4_api_config:medicinalproductmanufacturedApiConfig) {
    // Search for resources using /MedicinalProductManufactured?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("MedicinalProductManufactured", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns MedicinalProductManufactured|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("MedicinalProductManufactured", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicinalProductManufactured, "MedicinalProductManufactured");
        return <MedicinalProductManufactured|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns MedicinalProductManufactured|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("MedicinalProductManufactured", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicinalProductManufactured, "MedicinalProductManufactured");
        return <MedicinalProductManufactured|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, MedicinalProductManufactured medicinalproductmanufactured) returns MedicinalProductManufactured|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("MedicinalProductManufactured", medicinalproductmanufactured.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicinalProductManufactured, "MedicinalProductManufactured");
        return <MedicinalProductManufactured|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, MedicinalProductManufactured medicinalproductmanufactured) returns MedicinalProductManufactured|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("MedicinalProductManufactured", id, medicinalproductmanufactured.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicinalProductManufactured, "MedicinalProductManufactured");
        return <MedicinalProductManufactured|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns MedicinalProductManufactured|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("MedicinalProductManufactured", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicinalProductManufactured, "MedicinalProductManufactured");
        return <MedicinalProductManufactured|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("MedicinalProductManufactured", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("MedicinalProductManufactured", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("MedicinalProductManufactured");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("MedicinalProductManufactured", params);
    }
}

// // # Organization API                                                                                                          #
// 
service /fhir/r4/Organization on new fhirr4:Listener(config = r4_api_config:organizationApiConfig) {
    // Search for resources using /Organization?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("Organization", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns Organization|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("Organization", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Organization, "Organization");
        return <Organization|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns Organization|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("Organization", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Organization, "Organization");
        return <Organization|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, Organization organization) returns Organization|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("Organization", organization.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Organization, "Organization");
        return <Organization|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, Organization organization) returns Organization|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("Organization", id, organization.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Organization, "Organization");
        return <Organization|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns Organization|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("Organization", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Organization, "Organization");
        return <Organization|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("Organization", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("Organization", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("Organization");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("Organization", params);
    }
}

// // # ImplementationGuide API                                                                                                          #
// 
service /fhir/r4/ImplementationGuide on new fhirr4:Listener(config = r4_api_config:implementationguideApiConfig) {
    // Search for resources using /ImplementationGuide?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("ImplementationGuide", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns ImplementationGuide|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("ImplementationGuide", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ImplementationGuide, "ImplementationGuide");
        return <ImplementationGuide|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns ImplementationGuide|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("ImplementationGuide", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ImplementationGuide, "ImplementationGuide");
        return <ImplementationGuide|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, ImplementationGuide implementationguide) returns ImplementationGuide|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("ImplementationGuide", implementationguide.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ImplementationGuide, "ImplementationGuide");
        return <ImplementationGuide|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, ImplementationGuide implementationguide) returns ImplementationGuide|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("ImplementationGuide", id, implementationguide.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ImplementationGuide, "ImplementationGuide");
        return <ImplementationGuide|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns ImplementationGuide|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("ImplementationGuide", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ImplementationGuide, "ImplementationGuide");
        return <ImplementationGuide|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("ImplementationGuide", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("ImplementationGuide", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("ImplementationGuide");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("ImplementationGuide", params);
    }
}

// // # CareTeam API                                                                                                          #
// 
service /fhir/r4/CareTeam on new fhirr4:Listener(config = r4_api_config:careteamApiConfig) {
    // Search for resources using /CareTeam?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("CareTeam", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns CareTeam|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("CareTeam", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, CareTeam, "CareTeam");
        return <CareTeam|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns CareTeam|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("CareTeam", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, CareTeam, "CareTeam");
        return <CareTeam|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, CareTeam careteam) returns CareTeam|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("CareTeam", careteam.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, CareTeam, "CareTeam");
        return <CareTeam|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, CareTeam careteam) returns CareTeam|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("CareTeam", id, careteam.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, CareTeam, "CareTeam");
        return <CareTeam|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns CareTeam|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("CareTeam", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, CareTeam, "CareTeam");
        return <CareTeam|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("CareTeam", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("CareTeam", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("CareTeam");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("CareTeam", params);
    }
}

// // # ImagingStudy API                                                                                                          #
// 
service /fhir/r4/ImagingStudy on new fhirr4:Listener(config = r4_api_config:imagingstudyApiConfig) {
    // Search for resources using /ImagingStudy?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("ImagingStudy", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns ImagingStudy|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("ImagingStudy", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ImagingStudy, "ImagingStudy");
        return <ImagingStudy|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns ImagingStudy|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("ImagingStudy", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ImagingStudy, "ImagingStudy");
        return <ImagingStudy|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, ImagingStudy imagingstudy) returns ImagingStudy|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("ImagingStudy", imagingstudy.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ImagingStudy, "ImagingStudy");
        return <ImagingStudy|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, ImagingStudy imagingstudy) returns ImagingStudy|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("ImagingStudy", id, imagingstudy.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ImagingStudy, "ImagingStudy");
        return <ImagingStudy|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns ImagingStudy|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("ImagingStudy", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ImagingStudy, "ImagingStudy");
        return <ImagingStudy|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("ImagingStudy", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("ImagingStudy", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("ImagingStudy");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("ImagingStudy", params);
    }
}

// // # FamilyMemberHistory API                                                                                                          #
// 
service /fhir/r4/FamilyMemberHistory on new fhirr4:Listener(config = r4_api_config:familymemberhistoryApiConfig) {
    // Search for resources using /FamilyMemberHistory?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("FamilyMemberHistory", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns FamilyMemberHistory|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("FamilyMemberHistory", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, FamilyMemberHistory, "FamilyMemberHistory");
        return <FamilyMemberHistory|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns FamilyMemberHistory|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("FamilyMemberHistory", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, FamilyMemberHistory, "FamilyMemberHistory");
        return <FamilyMemberHistory|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, FamilyMemberHistory familymemberhistory) returns FamilyMemberHistory|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("FamilyMemberHistory", familymemberhistory.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, FamilyMemberHistory, "FamilyMemberHistory");
        return <FamilyMemberHistory|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, FamilyMemberHistory familymemberhistory) returns FamilyMemberHistory|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("FamilyMemberHistory", id, familymemberhistory.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, FamilyMemberHistory, "FamilyMemberHistory");
        return <FamilyMemberHistory|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns FamilyMemberHistory|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("FamilyMemberHistory", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, FamilyMemberHistory, "FamilyMemberHistory");
        return <FamilyMemberHistory|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("FamilyMemberHistory", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("FamilyMemberHistory", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("FamilyMemberHistory");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("FamilyMemberHistory", params);
    }
}

// // # ChargeItem API                                                                                                          #
// 
service /fhir/r4/ChargeItem on new fhirr4:Listener(config = r4_api_config:chargeitemApiConfig) {
    // Search for resources using /ChargeItem?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("ChargeItem", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns ChargeItem|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("ChargeItem", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ChargeItem, "ChargeItem");
        return <ChargeItem|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns ChargeItem|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("ChargeItem", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ChargeItem, "ChargeItem");
        return <ChargeItem|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, ChargeItem chargeitem) returns ChargeItem|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("ChargeItem", chargeitem.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ChargeItem, "ChargeItem");
        return <ChargeItem|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, ChargeItem chargeitem) returns ChargeItem|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("ChargeItem", id, chargeitem.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ChargeItem, "ChargeItem");
        return <ChargeItem|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns ChargeItem|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("ChargeItem", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ChargeItem, "ChargeItem");
        return <ChargeItem|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("ChargeItem", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("ChargeItem", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("ChargeItem");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("ChargeItem", params);
    }
}

// // # ResearchElementDefinition API                                                                                                          #
// 
service /fhir/r4/ResearchElementDefinition on new fhirr4:Listener(config = r4_api_config:researchelementdefinitionApiConfig) {
    // Search for resources using /ResearchElementDefinition?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("ResearchElementDefinition", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns ResearchElementDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("ResearchElementDefinition", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ResearchElementDefinition, "ResearchElementDefinition");
        return <ResearchElementDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns ResearchElementDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("ResearchElementDefinition", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ResearchElementDefinition, "ResearchElementDefinition");
        return <ResearchElementDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, ResearchElementDefinition researchelementdefinition) returns ResearchElementDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("ResearchElementDefinition", researchelementdefinition.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ResearchElementDefinition, "ResearchElementDefinition");
        return <ResearchElementDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, ResearchElementDefinition researchelementdefinition) returns ResearchElementDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("ResearchElementDefinition", id, researchelementdefinition.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ResearchElementDefinition, "ResearchElementDefinition");
        return <ResearchElementDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns ResearchElementDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("ResearchElementDefinition", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ResearchElementDefinition, "ResearchElementDefinition");
        return <ResearchElementDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("ResearchElementDefinition", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("ResearchElementDefinition", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("ResearchElementDefinition");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("ResearchElementDefinition", params);
    }
}

// // # ObservationDefinition API                                                                                                          #
// 
service /fhir/r4/ObservationDefinition on new fhirr4:Listener(config = r4_api_config:observationdefinitionApiConfig) {
    // Search for resources using /ObservationDefinition?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("ObservationDefinition", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns ObservationDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("ObservationDefinition", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ObservationDefinition, "ObservationDefinition");
        return <ObservationDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns ObservationDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("ObservationDefinition", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ObservationDefinition, "ObservationDefinition");
        return <ObservationDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, ObservationDefinition observationdefinition) returns ObservationDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("ObservationDefinition", observationdefinition.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ObservationDefinition, "ObservationDefinition");
        return <ObservationDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, ObservationDefinition observationdefinition) returns ObservationDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("ObservationDefinition", id, observationdefinition.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ObservationDefinition, "ObservationDefinition");
        return <ObservationDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns ObservationDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("ObservationDefinition", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ObservationDefinition, "ObservationDefinition");
        return <ObservationDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("ObservationDefinition", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("ObservationDefinition", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("ObservationDefinition");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("ObservationDefinition", params);
    }
}

// // # SubstanceSpecification API                                                                                                          #
// 
service /fhir/r4/SubstanceSpecification on new fhirr4:Listener(config = r4_api_config:substancespecificationApiConfig) {
    // Search for resources using /SubstanceSpecification?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("SubstanceSpecification", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns SubstanceSpecification|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("SubstanceSpecification", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, SubstanceSpecification, "SubstanceSpecification");
        return <SubstanceSpecification|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns SubstanceSpecification|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("SubstanceSpecification", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, SubstanceSpecification, "SubstanceSpecification");
        return <SubstanceSpecification|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, SubstanceSpecification substancespecification) returns SubstanceSpecification|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("SubstanceSpecification", substancespecification.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, SubstanceSpecification, "SubstanceSpecification");
        return <SubstanceSpecification|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, SubstanceSpecification substancespecification) returns SubstanceSpecification|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("SubstanceSpecification", id, substancespecification.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, SubstanceSpecification, "SubstanceSpecification");
        return <SubstanceSpecification|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns SubstanceSpecification|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("SubstanceSpecification", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, SubstanceSpecification, "SubstanceSpecification");
        return <SubstanceSpecification|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("SubstanceSpecification", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("SubstanceSpecification", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("SubstanceSpecification");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("SubstanceSpecification", params);
    }
}

// // # Encounter API                                                                                                          #
// 
service /fhir/r4/Encounter on new fhirr4:Listener(config = r4_api_config:encounterApiConfig) {

    // Everything operation - returns the Encounter and all related resources
    resource function get [string id]/\$everything(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performEverythingOperation("Encounter", id);
    }

    // Search for resources using /Encounter?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("Encounter", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns Encounter|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("Encounter", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Encounter, "Encounter");
        return <Encounter|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns Encounter|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("Encounter", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Encounter, "Encounter");
        return <Encounter|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, Encounter encounter) returns Encounter|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("Encounter", encounter.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Encounter, "Encounter");
        return <Encounter|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, Encounter encounter) returns Encounter|r4:OperationOutcome|r4:FHIRError {
        return r4:createFHIRError("Not implemented", r4:ERROR, r4:INFORMATIONAL, httpStatusCode = http:STATUS_NOT_IMPLEMENTED);
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns Encounter|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("Encounter", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Encounter, "Encounter");
        return <Encounter|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("Encounter", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("Encounter", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("Encounter");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("Encounter", params);
    }
}

// // # Substance API                                                                                                          #
// 
service /fhir/r4/Substance on new fhirr4:Listener(config = r4_api_config:substanceApiConfig) {
    // Search for resources using /Substance?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("Substance", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns Substance|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("Substance", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Substance, "Substance");
        return <Substance|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns Substance|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("Substance", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Substance, "Substance");
        return <Substance|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, Substance substance) returns Substance|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("Substance", substance.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Substance, "Substance");
        return <Substance|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, Substance substance) returns Substance|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("Substance", id, substance.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Substance, "Substance");
        return <Substance|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns Substance|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("Substance", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Substance, "Substance");
        return <Substance|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("Substance", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("Substance", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("Substance");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("Substance", params);
    }
}

// // # SearchParameter API                                                                                                          #
// 
service /fhir/r4/SearchParameter on new fhirr4:Listener(config = r4_api_config:searchparameterApiConfig) {
    // Search for resources using /SearchParameter?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("SearchParameter", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns SearchParameter|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("SearchParameter", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, SearchParameter, "SearchParameter");
        return <SearchParameter|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    // isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns SearchParameter|r4:OperationOutcome|r4:FHIRError {
    //     any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("SearchParameter", id, vid);
    //     if result is any {
    //         return <SearchParameter>result;
    //     }
    //     return result;
    // }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, SearchParameter searchparameter) returns SearchParameter|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("SearchParameter", searchparameter.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, SearchParameter, "SearchParameter");
        return <SearchParameter|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, SearchParameter searchparameter) returns SearchParameter|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("SearchParameter", id, searchparameter.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, SearchParameter, "SearchParameter");
        return <SearchParameter|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns SearchParameter|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("SearchParameter", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, SearchParameter, "SearchParameter");
        return <SearchParameter|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("SearchParameter", id);
    }

    // Retrieve the update history for a particular resource.
    // isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
    //     return performResourceHistory("SearchParameter", id);
    // }

    // Retrieve the update history for all resources.
    // isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
    //     return performAllResourceHistory("SearchParameter");
    // }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("SearchParameter", params);
    }
}

// // # Communication API                                                                                                          #
// 
service /fhir/r4/Communication on new fhirr4:Listener(config = r4_api_config:communicationApiConfig) {
    // Search for resources using /Communication?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("Communication", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns Communication|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("Communication", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Communication, "Communication");
        return <Communication|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns Communication|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("Communication", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Communication, "Communication");
        return <Communication|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, Communication communication) returns Communication|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("Communication", communication.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Communication, "Communication");
        return <Communication|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, Communication communication) returns Communication|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("Communication", id, communication.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Communication, "Communication");
        return <Communication|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns Communication|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("Communication", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Communication, "Communication");
        return <Communication|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("Communication", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("Communication", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("Communication");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("Communication", params);
    }
}

// // # InsurancePlan API                                                                                                          #
// 
service /fhir/r4/InsurancePlan on new fhirr4:Listener(config = r4_api_config:insuranceplanApiConfig) {
    // Search for resources using /InsurancePlan?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("InsurancePlan", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns InsurancePlan|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("InsurancePlan", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, InsurancePlan, "InsurancePlan");
        return <InsurancePlan|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns InsurancePlan|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("InsurancePlan", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, InsurancePlan, "InsurancePlan");
        return <InsurancePlan|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, InsurancePlan insuranceplan) returns InsurancePlan|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("InsurancePlan", insuranceplan.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, InsurancePlan, "InsurancePlan");
        return <InsurancePlan|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, InsurancePlan insuranceplan) returns InsurancePlan|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("InsurancePlan", id, insuranceplan.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, InsurancePlan, "InsurancePlan");
        return <InsurancePlan|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns InsurancePlan|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("InsurancePlan", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, InsurancePlan, "InsurancePlan");
        return <InsurancePlan|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("InsurancePlan", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("InsurancePlan", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("InsurancePlan");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("InsurancePlan", params);
    }
}

// // # ActivityDefinition API                                                                                                          #
// 
service /fhir/r4/ActivityDefinition on new fhirr4:Listener(config = r4_api_config:activitydefinitionApiConfig) {
    // Search for resources using /ActivityDefinition?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("ActivityDefinition", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns ActivityDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("ActivityDefinition", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ActivityDefinition, "ActivityDefinition");
        return <ActivityDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns ActivityDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("ActivityDefinition", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ActivityDefinition, "ActivityDefinition");
        return <ActivityDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, ActivityDefinition activitydefinition) returns ActivityDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("ActivityDefinition", activitydefinition.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ActivityDefinition, "ActivityDefinition");
        return <ActivityDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, ActivityDefinition activitydefinition) returns ActivityDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("ActivityDefinition", id, activitydefinition.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ActivityDefinition, "ActivityDefinition");
        return <ActivityDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns ActivityDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("ActivityDefinition", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ActivityDefinition, "ActivityDefinition");
        return <ActivityDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("ActivityDefinition", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("ActivityDefinition", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("ActivityDefinition");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("ActivityDefinition", params);
    }
}

// // # Linkage API                                                                                                          #
// 
service /fhir/r4/Linkage on new fhirr4:Listener(config = r4_api_config:linkageApiConfig) {
    // Search for resources using /Linkage?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("Linkage", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns Linkage|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("Linkage", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Linkage, "Linkage");
        return <Linkage|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns Linkage|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("Linkage", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Linkage, "Linkage");
        return <Linkage|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, Linkage linkage) returns Linkage|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("Linkage", linkage.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Linkage, "Linkage");
        return <Linkage|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, Linkage linkage) returns Linkage|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("Linkage", id, linkage.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Linkage, "Linkage");
        return <Linkage|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns Linkage|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("Linkage", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Linkage, "Linkage");
        return <Linkage|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("Linkage", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("Linkage", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("Linkage");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("Linkage", params);
    }
}

// // # SubstanceSourceMaterial API                                                                                                          #
// 
service /fhir/r4/SubstanceSourceMaterial on new fhirr4:Listener(config = r4_api_config:substancesourcematerialApiConfig) {
    // Search for resources using /SubstanceSourceMaterial?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("SubstanceSourceMaterial", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns SubstanceSourceMaterial|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("SubstanceSourceMaterial", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, SubstanceSourceMaterial, "SubstanceSourceMaterial");
        return <SubstanceSourceMaterial|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns SubstanceSourceMaterial|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("SubstanceSourceMaterial", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, SubstanceSourceMaterial, "SubstanceSourceMaterial");
        return <SubstanceSourceMaterial|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, SubstanceSourceMaterial substancesourcematerial) returns SubstanceSourceMaterial|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("SubstanceSourceMaterial", substancesourcematerial.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, SubstanceSourceMaterial, "SubstanceSourceMaterial");
        return <SubstanceSourceMaterial|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, SubstanceSourceMaterial substancesourcematerial) returns SubstanceSourceMaterial|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("SubstanceSourceMaterial", id, substancesourcematerial.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, SubstanceSourceMaterial, "SubstanceSourceMaterial");
        return <SubstanceSourceMaterial|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns SubstanceSourceMaterial|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("SubstanceSourceMaterial", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, SubstanceSourceMaterial, "SubstanceSourceMaterial");
        return <SubstanceSourceMaterial|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("SubstanceSourceMaterial", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("SubstanceSourceMaterial", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("SubstanceSourceMaterial");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("SubstanceSourceMaterial", params);
    }
}

// // # ImmunizationEvaluation API                                                                                                          #
// 
service /fhir/r4/ImmunizationEvaluation on new fhirr4:Listener(config = r4_api_config:immunizationevaluationApiConfig) {
    // Search for resources using /ImmunizationEvaluation?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("ImmunizationEvaluation", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns ImmunizationEvaluation|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("ImmunizationEvaluation", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ImmunizationEvaluation, "ImmunizationEvaluation");
        return <ImmunizationEvaluation|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns ImmunizationEvaluation|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("ImmunizationEvaluation", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ImmunizationEvaluation, "ImmunizationEvaluation");
        return <ImmunizationEvaluation|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, ImmunizationEvaluation immunizationevaluation) returns ImmunizationEvaluation|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("ImmunizationEvaluation", immunizationevaluation.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ImmunizationEvaluation, "ImmunizationEvaluation");
        return <ImmunizationEvaluation|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, ImmunizationEvaluation immunizationevaluation) returns ImmunizationEvaluation|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("ImmunizationEvaluation", id, immunizationevaluation.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ImmunizationEvaluation, "ImmunizationEvaluation");
        return <ImmunizationEvaluation|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns ImmunizationEvaluation|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("ImmunizationEvaluation", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ImmunizationEvaluation, "ImmunizationEvaluation");
        return <ImmunizationEvaluation|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("ImmunizationEvaluation", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("ImmunizationEvaluation", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("ImmunizationEvaluation");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("ImmunizationEvaluation", params);
    }
}

// // # DeviceUseStatement API                                                                                                          #
// 
service /fhir/r4/DeviceUseStatement on new fhirr4:Listener(config = r4_api_config:deviceusestatementApiConfig) {
    // Search for resources using /DeviceUseStatement?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("DeviceUseStatement", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns DeviceUseStatement|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("DeviceUseStatement", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, DeviceUseStatement, "DeviceUseStatement");
        return <DeviceUseStatement|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns DeviceUseStatement|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("DeviceUseStatement", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, DeviceUseStatement, "DeviceUseStatement");
        return <DeviceUseStatement|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, DeviceUseStatement deviceusestatement) returns DeviceUseStatement|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("DeviceUseStatement", deviceusestatement.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, DeviceUseStatement, "DeviceUseStatement");
        return <DeviceUseStatement|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, DeviceUseStatement deviceusestatement) returns DeviceUseStatement|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("DeviceUseStatement", id, deviceusestatement.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, DeviceUseStatement, "DeviceUseStatement");
        return <DeviceUseStatement|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns DeviceUseStatement|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("DeviceUseStatement", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, DeviceUseStatement, "DeviceUseStatement");
        return <DeviceUseStatement|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("DeviceUseStatement", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("DeviceUseStatement", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("DeviceUseStatement");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("DeviceUseStatement", params);
    }
}

// // # RequestGroup API                                                                                                          #
// 
service /fhir/r4/RequestGroup on new fhirr4:Listener(config = r4_api_config:requestgroupApiConfig) {
    // Search for resources using /RequestGroup?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("RequestGroup", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns RequestGroup|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("RequestGroup", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, RequestGroup, "RequestGroup");
        return <RequestGroup|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns RequestGroup|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("RequestGroup", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, RequestGroup, "RequestGroup");
        return <RequestGroup|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, RequestGroup requestgroup) returns RequestGroup|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("RequestGroup", requestgroup.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, RequestGroup, "RequestGroup");
        return <RequestGroup|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, RequestGroup requestgroup) returns RequestGroup|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("RequestGroup", id, requestgroup.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, RequestGroup, "RequestGroup");
        return <RequestGroup|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns RequestGroup|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("RequestGroup", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, RequestGroup, "RequestGroup");
        return <RequestGroup|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("RequestGroup", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("RequestGroup", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("RequestGroup");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("RequestGroup", params);
    }
}

// // # MessageHeader API                                                                                                          #
// 
service /fhir/r4/MessageHeader on new fhirr4:Listener(config = r4_api_config:messageheaderApiConfig) {
    // Search for resources using /MessageHeader?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("MessageHeader", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns MessageHeader|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("MessageHeader", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MessageHeader, "MessageHeader");
        return <MessageHeader|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns MessageHeader|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("MessageHeader", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MessageHeader, "MessageHeader");
        return <MessageHeader|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, MessageHeader messageheader) returns MessageHeader|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("MessageHeader", messageheader.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MessageHeader, "MessageHeader");
        return <MessageHeader|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, MessageHeader messageheader) returns MessageHeader|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("MessageHeader", id, messageheader.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MessageHeader, "MessageHeader");
        return <MessageHeader|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns MessageHeader|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("MessageHeader", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MessageHeader, "MessageHeader");
        return <MessageHeader|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("MessageHeader", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("MessageHeader", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("MessageHeader");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("MessageHeader", params);
    }
}

// // # DeviceRequest API                                                                                                          #
// 
service /fhir/r4/DeviceRequest on new fhirr4:Listener(config = r4_api_config:devicerequestApiConfig) {
    // Search for resources using /DeviceRequest?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("DeviceRequest", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns DeviceRequest|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("DeviceRequest", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, DeviceRequest, "DeviceRequest");
        return <DeviceRequest|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns DeviceRequest|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("DeviceRequest", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, DeviceRequest, "DeviceRequest");
        return <DeviceRequest|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, DeviceRequest devicerequest) returns DeviceRequest|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("DeviceRequest", devicerequest.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, DeviceRequest, "DeviceRequest");
        return <DeviceRequest|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, DeviceRequest devicerequest) returns DeviceRequest|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("DeviceRequest", id, devicerequest.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, DeviceRequest, "DeviceRequest");
        return <DeviceRequest|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns DeviceRequest|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("DeviceRequest", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, DeviceRequest, "DeviceRequest");
        return <DeviceRequest|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("DeviceRequest", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("DeviceRequest", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("DeviceRequest");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("DeviceRequest", params);
    }
}

// // # ImmunizationRecommendation API                                                                                                          #
// 
service /fhir/r4/ImmunizationRecommendation on new fhirr4:Listener(config = r4_api_config:immunizationrecommendationApiConfig) {
    // Search for resources using /ImmunizationRecommendation?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("ImmunizationRecommendation", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns ImmunizationRecommendation|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("ImmunizationRecommendation", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ImmunizationRecommendation, "ImmunizationRecommendation");
        return <ImmunizationRecommendation|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns ImmunizationRecommendation|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("ImmunizationRecommendation", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ImmunizationRecommendation, "ImmunizationRecommendation");
        return <ImmunizationRecommendation|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, ImmunizationRecommendation immunizationrecommendation) returns ImmunizationRecommendation|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("ImmunizationRecommendation", immunizationrecommendation.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ImmunizationRecommendation, "ImmunizationRecommendation");
        return <ImmunizationRecommendation|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, ImmunizationRecommendation immunizationrecommendation) returns ImmunizationRecommendation|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("ImmunizationRecommendation", id, immunizationrecommendation.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ImmunizationRecommendation, "ImmunizationRecommendation");
        return <ImmunizationRecommendation|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns ImmunizationRecommendation|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("ImmunizationRecommendation", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ImmunizationRecommendation, "ImmunizationRecommendation");
        return <ImmunizationRecommendation|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("ImmunizationRecommendation", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("ImmunizationRecommendation", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("ImmunizationRecommendation");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("ImmunizationRecommendation", params);
    }
}

// // # Task API                                                                                                          #
// 
service /fhir/r4/Task on new fhirr4:Listener(config = r4_api_config:taskApiConfig) {
    // Search for resources using /Task?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("Task", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns Task|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("Task", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Task, "Task");
        return <Task|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns Task|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("Task", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Task, "Task");
        return <Task|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, Task task) returns Task|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("Task", task.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Task, "Task");
        return <Task|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, Task task) returns Task|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("Task", id, task.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Task, "Task");
        return <Task|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns Task|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("Task", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Task, "Task");
        return <Task|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("Task", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("Task", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("Task");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("Task", params);
    }
}

// // # Provenance API                                                                                                          #
// 
service /fhir/r4/Provenance on new fhirr4:Listener(config = r4_api_config:provenanceApiConfig) {
    // Search for resources using /Provenance?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("Provenance", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns Provenance|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("Provenance", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Provenance, "Provenance");
        return <Provenance|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns Provenance|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("Provenance", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Provenance, "Provenance");
        return <Provenance|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, Provenance provenance) returns Provenance|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("Provenance", provenance.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Provenance, "Provenance");
        return <Provenance|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, Provenance provenance) returns Provenance|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("Provenance", id, provenance.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Provenance, "Provenance");
        return <Provenance|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns Provenance|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("Provenance", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Provenance, "Provenance");
        return <Provenance|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("Provenance", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("Provenance", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("Provenance");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("Provenance", params);
    }
}

// // # Questionnaire API                                                                                                          #
// 
service /fhir/r4/Questionnaire on new fhirr4:Listener(config = r4_api_config:questionnaireApiConfig) {
    // Search for resources using /Questionnaire?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("Questionnaire", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns Questionnaire|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("Questionnaire", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Questionnaire, "Questionnaire");
        return <Questionnaire|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns Questionnaire|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("Questionnaire", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Questionnaire, "Questionnaire");
        return <Questionnaire|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, Questionnaire questionnaire) returns Questionnaire|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("Questionnaire", questionnaire.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Questionnaire, "Questionnaire");
        return <Questionnaire|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, Questionnaire questionnaire) returns Questionnaire|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("Questionnaire", id, questionnaire.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Questionnaire, "Questionnaire");
        return <Questionnaire|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns Questionnaire|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("Questionnaire", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Questionnaire, "Questionnaire");
        return <Questionnaire|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("Questionnaire", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("Questionnaire", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("Questionnaire");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("Questionnaire", params);
    }
}

// // # ExplanationOfBenefit API                                                                                                          #
// 
service /fhir/r4/ExplanationOfBenefit on new fhirr4:Listener(config = r4_api_config:explanationofbenefitApiConfig) {
    // Search for resources using /ExplanationOfBenefit?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("ExplanationOfBenefit", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns ExplanationOfBenefit|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("ExplanationOfBenefit", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ExplanationOfBenefit, "ExplanationOfBenefit");
        return <ExplanationOfBenefit|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns ExplanationOfBenefit|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("ExplanationOfBenefit", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ExplanationOfBenefit, "ExplanationOfBenefit");
        return <ExplanationOfBenefit|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, ExplanationOfBenefit explanationofbenefit) returns ExplanationOfBenefit|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("ExplanationOfBenefit", explanationofbenefit.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ExplanationOfBenefit, "ExplanationOfBenefit");
        return <ExplanationOfBenefit|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, ExplanationOfBenefit explanationofbenefit) returns ExplanationOfBenefit|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("ExplanationOfBenefit", id, explanationofbenefit.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ExplanationOfBenefit, "ExplanationOfBenefit");
        return <ExplanationOfBenefit|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns ExplanationOfBenefit|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("ExplanationOfBenefit", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ExplanationOfBenefit, "ExplanationOfBenefit");
        return <ExplanationOfBenefit|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("ExplanationOfBenefit", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("ExplanationOfBenefit", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("ExplanationOfBenefit");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("ExplanationOfBenefit", params);
    }
}

// // # MedicinalProductPharmaceutical API                                                                                                          #
// 
service /fhir/r4/MedicinalProductPharmaceutical on new fhirr4:Listener(config = r4_api_config:medicinalproductpharmaceuticalApiConfig) {
    // Search for resources using /MedicinalProductPharmaceutical?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("MedicinalProductPharmaceutical", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns MedicinalProductPharmaceutical|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("MedicinalProductPharmaceutical", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicinalProductPharmaceutical, "MedicinalProductPharmaceutical");
        return <MedicinalProductPharmaceutical|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns MedicinalProductPharmaceutical|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("MedicinalProductPharmaceutical", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicinalProductPharmaceutical, "MedicinalProductPharmaceutical");
        return <MedicinalProductPharmaceutical|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, MedicinalProductPharmaceutical medicinalproductpharmaceutical) returns MedicinalProductPharmaceutical|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("MedicinalProductPharmaceutical", medicinalproductpharmaceutical.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicinalProductPharmaceutical, "MedicinalProductPharmaceutical");
        return <MedicinalProductPharmaceutical|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, MedicinalProductPharmaceutical medicinalproductpharmaceutical) returns MedicinalProductPharmaceutical|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("MedicinalProductPharmaceutical", id, medicinalproductpharmaceutical.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicinalProductPharmaceutical, "MedicinalProductPharmaceutical");
        return <MedicinalProductPharmaceutical|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns MedicinalProductPharmaceutical|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("MedicinalProductPharmaceutical", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicinalProductPharmaceutical, "MedicinalProductPharmaceutical");
        return <MedicinalProductPharmaceutical|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("MedicinalProductPharmaceutical", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("MedicinalProductPharmaceutical", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("MedicinalProductPharmaceutical");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("MedicinalProductPharmaceutical", params);
    }
}

// // # ResearchStudy API                                                                                                          #
// 
service /fhir/r4/ResearchStudy on new fhirr4:Listener(config = r4_api_config:researchstudyApiConfig) {
    // Search for resources using /ResearchStudy?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("ResearchStudy", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns ResearchStudy|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("ResearchStudy", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ResearchStudy, "ResearchStudy");
        return <ResearchStudy|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns ResearchStudy|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("ResearchStudy", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ResearchStudy, "ResearchStudy");
        return <ResearchStudy|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, ResearchStudy researchstudy) returns ResearchStudy|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("ResearchStudy", researchstudy.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ResearchStudy, "ResearchStudy");
        return <ResearchStudy|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, ResearchStudy researchstudy) returns ResearchStudy|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("ResearchStudy", id, researchstudy.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ResearchStudy, "ResearchStudy");
        return <ResearchStudy|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns ResearchStudy|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("ResearchStudy", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ResearchStudy, "ResearchStudy");
        return <ResearchStudy|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("ResearchStudy", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("ResearchStudy", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("ResearchStudy");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("ResearchStudy", params);
    }
}

// // # Specimen API                                                                                                          #
// 
service /fhir/r4/Specimen on new fhirr4:Listener(config = r4_api_config:specimenApiConfig) {
    // Search for resources using /Specimen?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("Specimen", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns Specimen|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("Specimen", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Specimen, "Specimen");
        return <Specimen|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns Specimen|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("Specimen", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Specimen, "Specimen");
        return <Specimen|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, Specimen specimen) returns Specimen|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("Specimen", specimen.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Specimen, "Specimen");
        return <Specimen|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, Specimen specimen) returns Specimen|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("Specimen", id, specimen.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Specimen, "Specimen");
        return <Specimen|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns Specimen|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("Specimen", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Specimen, "Specimen");
        return <Specimen|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("Specimen", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("Specimen", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("Specimen");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("Specimen", params);
    }
}

// // # CarePlan API                                                                                                          #
// 
service /fhir/r4/CarePlan on new fhirr4:Listener(config = r4_api_config:careplanApiConfig) {
    // Search for resources using /CarePlan?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("CarePlan", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns CarePlan|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("CarePlan", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, CarePlan, "CarePlan");
        return <CarePlan|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns CarePlan|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("CarePlan", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, CarePlan, "CarePlan");
        return <CarePlan|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, CarePlan careplan) returns CarePlan|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("CarePlan", careplan.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, CarePlan, "CarePlan");
        return <CarePlan|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, CarePlan careplan) returns CarePlan|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("CarePlan", id, careplan.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, CarePlan, "CarePlan");
        return <CarePlan|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns CarePlan|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("CarePlan", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, CarePlan, "CarePlan");
        return <CarePlan|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("CarePlan", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("CarePlan", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("CarePlan");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("CarePlan", params);
    }
}

// // # AllergyIntolerance API                                                                                                          #
// 
service /fhir/r4/AllergyIntolerance on new fhirr4:Listener(config = r4_api_config:allergyintoleranceApiConfig) {
    // Search for resources using /AllergyIntolerance?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("AllergyIntolerance", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns AllergyIntolerance|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("AllergyIntolerance", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, AllergyIntolerance, "AllergyIntolerance");
        return <AllergyIntolerance|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns AllergyIntolerance|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("AllergyIntolerance", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, AllergyIntolerance, "AllergyIntolerance");
        return <AllergyIntolerance|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, AllergyIntolerance allergyintolerance) returns AllergyIntolerance|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("AllergyIntolerance", allergyintolerance.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, AllergyIntolerance, "AllergyIntolerance");
        return <AllergyIntolerance|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, AllergyIntolerance allergyintolerance) returns AllergyIntolerance|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("AllergyIntolerance", id, allergyintolerance.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, AllergyIntolerance, "AllergyIntolerance");
        return <AllergyIntolerance|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns AllergyIntolerance|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("AllergyIntolerance", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, AllergyIntolerance, "AllergyIntolerance");
        return <AllergyIntolerance|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("AllergyIntolerance", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("AllergyIntolerance", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("AllergyIntolerance");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("AllergyIntolerance", params);
    }
}

// // # StructureDefinition API                                                                                                          #
// 
service /fhir/r4/StructureDefinition on new fhirr4:Listener(config = r4_api_config:structuredefinitionApiConfig) {
    // Search for resources using /StructureDefinition?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("StructureDefinition", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns StructureDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("StructureDefinition", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, StructureDefinition, "StructureDefinition");
        return <StructureDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    resource function post .(r4:FHIRContext fhirContext, StructureDefinition structuredefinition) returns StructureDefinition|r4:OperationOutcome|r4:FHIRError {
        do {
            any|r4:OperationOutcome|r4:FHIRError createResult = performResourceCreate("StructureDefinition", structuredefinition.toJson());

            if createResult is r4:OperationOutcome || createResult is r4:FHIRError {
                return createResult;
            }

            json structDefJson = structuredefinition.toJson();
            string? customUrl = check structDefJson.url.ensureType(string);
            string? resourceType = check structDefJson.'type.ensureType(string);

            if customUrl is string && resourceType is string {
                log:printInfo(string `Registering profile in FHIR registry: ${customUrl} for ${resourceType}`);

                readonly & r4:Profile customProfile = {
                    url: customUrl,
                    resourceType: resourceType,
                    modelType: json
                }.cloneReadOnly();

                readonly & r4:IGInfoRecord customIG = {
                    title: "Custom Profiles IG",
                    name: "custom-profiles",
                    terminology: {
                        codeSystems: [],
                        valueSets: []
                    },
                    profiles: {
                        [customUrl]: customProfile
                    },
                    searchParameters: []
                }.cloneReadOnly();

                r4:FHIRImplementationGuide ig = new (customIG);
                r4:FHIRError? regResult = r4:fhirRegistry.addImplementationGuide(ig);

                if regResult is r4:FHIRError {
                    log:printWarn(string `Failed to register profile in registry: ${regResult.message()}`);
                } else {
                    log:printInfo(string `Successfully registered profile: ${customUrl}`);
                }
            }

            return <StructureDefinition>createResult;

        } on fail error e {
            log:printError(string `Error creating StructureDefinition: ${e.message()}`);
            return r4:createFHIRError(
                    string `Failed to create StructureDefinition: ${e.message()}`,
                    r4:ERROR,
                    r4:PROCESSING,
                    httpStatusCode = http:STATUS_INTERNAL_SERVER_ERROR
            );
        }
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, StructureDefinition structuredefinition) returns StructureDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("StructureDefinition", id, structuredefinition.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, StructureDefinition, "StructureDefinition");
        return <StructureDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns StructureDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("StructureDefinition", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, StructureDefinition, "StructureDefinition");
        return <StructureDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("StructureDefinition", id);
    }

    // Retrieve the update history for a particular resource.
    // isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
    //     return performResourceHistory("StructureDefinition", id);
    // }

    // Retrieve the update history for all resources.
    // isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
    //     return performAllResourceHistory("StructureDefinition");
    // }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("StructureDefinition", params);
    }
}

// // # ChargeItemDefinition API                                                                                                          #
// 
service /fhir/r4/ChargeItemDefinition on new fhirr4:Listener(config = r4_api_config:chargeitemdefinitionApiConfig) {
    // Search for resources using /ChargeItemDefinition?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("ChargeItemDefinition", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns ChargeItemDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("ChargeItemDefinition", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ChargeItemDefinition, "ChargeItemDefinition");
        return <ChargeItemDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns ChargeItemDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("ChargeItemDefinition", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ChargeItemDefinition, "ChargeItemDefinition");
        return <ChargeItemDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, ChargeItemDefinition chargeitemdefinition) returns ChargeItemDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("ChargeItemDefinition", chargeitemdefinition.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ChargeItemDefinition, "ChargeItemDefinition");
        return <ChargeItemDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, ChargeItemDefinition chargeitemdefinition) returns ChargeItemDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("ChargeItemDefinition", id, chargeitemdefinition.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ChargeItemDefinition, "ChargeItemDefinition");
        return <ChargeItemDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns ChargeItemDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("ChargeItemDefinition", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ChargeItemDefinition, "ChargeItemDefinition");
        return <ChargeItemDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("ChargeItemDefinition", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("ChargeItemDefinition", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("ChargeItemDefinition");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("ChargeItemDefinition", params);
    }
}

// // # EpisodeOfCare API                                                                                                          #
// 
service /fhir/r4/EpisodeOfCare on new fhirr4:Listener(config = r4_api_config:episodeofcareApiConfig) {
    // Everything operation - returns the EpisodeOfCare and all related resources
    resource function get [string id]/\$everything(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performEverythingOperation("EpisodeOfCare", id);
    }

    // Search for resources using /EpisodeOfCare?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("EpisodeOfCare", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns EpisodeOfCare|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("EpisodeOfCare", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, EpisodeOfCare, "EpisodeOfCare");
        return <EpisodeOfCare|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns EpisodeOfCare|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("EpisodeOfCare", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, EpisodeOfCare, "EpisodeOfCare");
        return <EpisodeOfCare|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, EpisodeOfCare episodeofcare) returns EpisodeOfCare|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("EpisodeOfCare", episodeofcare.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, EpisodeOfCare, "EpisodeOfCare");
        return <EpisodeOfCare|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, EpisodeOfCare episodeofcare) returns EpisodeOfCare|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("EpisodeOfCare", id, episodeofcare.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, EpisodeOfCare, "EpisodeOfCare");
        return <EpisodeOfCare|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns EpisodeOfCare|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("EpisodeOfCare", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, EpisodeOfCare, "EpisodeOfCare");
        return <EpisodeOfCare|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("EpisodeOfCare", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("EpisodeOfCare", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("EpisodeOfCare");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("EpisodeOfCare", params);
    }
}

// // # Procedure API                                                                                                          #
// 
service /fhir/r4/Procedure on new fhirr4:Listener(config = r4_api_config:procedureApiConfig) {
    // Search for resources using /Procedure?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("Procedure", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns Procedure|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("Procedure", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Procedure, "Procedure");
        return <Procedure|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns Procedure|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("Procedure", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Procedure, "Procedure");
        return <Procedure|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, Procedure procedure) returns Procedure|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("Procedure", procedure.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Procedure, "Procedure");
        return <Procedure|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, Procedure procedure) returns Procedure|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("Procedure", id, procedure.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Procedure, "Procedure");
        return <Procedure|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns Procedure|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("Procedure", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Procedure, "Procedure");
        return <Procedure|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("Procedure", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("Procedure", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("Procedure");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("Procedure", params);
    }
}

// // # List API                                                                                                          #
// 
service /fhir/r4/List on new fhirr4:Listener(config = r4_api_config:listApiConfig) {
    // Search for resources using /List?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("List", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns List|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("List", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, List, "List");
        return <List|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns List|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("List", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, List, "List");
        return <List|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, List list) returns List|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("List", list.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, List, "List");
        return <List|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, List list) returns List|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("List", id, list.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, List, "List");
        return <List|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns List|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("List", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, List, "List");
        return <List|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("List", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("List", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("List");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("List", params);
    }
}

// // # ConceptMap API                                                                                                          #
// 
service /fhir/r4/ConceptMap on new fhirr4:Listener(config = r4_api_config:conceptmapApiConfig) {
    // Search for resources using /ConceptMap?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("ConceptMap", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns ConceptMap|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("ConceptMap", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ConceptMap, "ConceptMap");
        return <ConceptMap|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns ConceptMap|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("ConceptMap", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ConceptMap, "ConceptMap");
        return <ConceptMap|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, ConceptMap conceptmap) returns ConceptMap|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("ConceptMap", conceptmap.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ConceptMap, "ConceptMap");
        return <ConceptMap|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, ConceptMap conceptmap) returns ConceptMap|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("ConceptMap", id, conceptmap.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ConceptMap, "ConceptMap");
        return <ConceptMap|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns ConceptMap|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("ConceptMap", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ConceptMap, "ConceptMap");
        return <ConceptMap|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("ConceptMap", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("ConceptMap", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("ConceptMap");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("ConceptMap", params);
    }
}

// // # OperationDefinition API                                                                                                          #
// 
service /fhir/r4/OperationDefinition on new fhirr4:Listener(config = r4_api_config:operationdefinitionApiConfig) {
    // Search for resources using /OperationDefinition?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("OperationDefinition", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns OperationDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("OperationDefinition", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, OperationDefinition, "OperationDefinition");
        return <OperationDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns OperationDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("OperationDefinition", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, OperationDefinition, "OperationDefinition");
        return <OperationDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, OperationDefinition operationdefinition) returns OperationDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("OperationDefinition", operationdefinition.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, OperationDefinition, "OperationDefinition");
        return <OperationDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, OperationDefinition operationdefinition) returns OperationDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("OperationDefinition", id, operationdefinition.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, OperationDefinition, "OperationDefinition");
        return <OperationDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns OperationDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("OperationDefinition", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, OperationDefinition, "OperationDefinition");
        return <OperationDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("OperationDefinition", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("OperationDefinition", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("OperationDefinition");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("OperationDefinition", params);
    }
}

// // # Immunization API                                                                                                          #
// 
service /fhir/r4/Immunization on new fhirr4:Listener(config = r4_api_config:immunizationApiConfig) {
    // Search for resources using /Immunization?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("Immunization", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns Immunization|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("Immunization", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Immunization, "Immunization");
        return <Immunization|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns Immunization|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("Immunization", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Immunization, "Immunization");
        return <Immunization|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, Immunization immunization) returns Immunization|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("Immunization", immunization.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Immunization, "Immunization");
        return <Immunization|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, Immunization immunization) returns Immunization|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("Immunization", id, immunization.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Immunization, "Immunization");
        return <Immunization|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns Immunization|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("Immunization", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Immunization, "Immunization");
        return <Immunization|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("Immunization", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("Immunization", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("Immunization");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("Immunization", params);
    }
}

// // # MedicationRequest API                                                                                                          #
// 
service /fhir/r4/MedicationRequest on new fhirr4:Listener(config = r4_api_config:medicationrequestApiConfig) {
    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("MedicationRequest", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns MedicationRequest|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("MedicationRequest", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicationRequest, "MedicationRequest");
        return <MedicationRequest|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns MedicationRequest|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("MedicationRequest", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicationRequest, "MedicationRequest");
        return <MedicationRequest|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, MedicationRequest medicationrequest) returns MedicationRequest|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("MedicationRequest", medicationrequest.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicationRequest, "MedicationRequest");
        return <MedicationRequest|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, MedicationRequest medicationrequest) returns MedicationRequest|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("MedicationRequest", id, medicationrequest.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicationRequest, "MedicationRequest");
        return <MedicationRequest|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns MedicationRequest|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("MedicationRequest", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicationRequest, "MedicationRequest");
        return <MedicationRequest|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("MedicationRequest", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("MedicationRequest", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("MedicationRequest");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("MedicationRequest", params);
    }
}

// // # EffectEvidenceSynthesis API                                                                                                          #
// 
service /fhir/r4/EffectEvidenceSynthesis on new fhirr4:Listener(config = r4_api_config:effectevidencesynthesisApiConfig) {
    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("EffectEvidenceSynthesis", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns EffectEvidenceSynthesis|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("EffectEvidenceSynthesis", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, EffectEvidenceSynthesis, "EffectEvidenceSynthesis");
        return <EffectEvidenceSynthesis|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns EffectEvidenceSynthesis|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("EffectEvidenceSynthesis", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, EffectEvidenceSynthesis, "EffectEvidenceSynthesis");
        return <EffectEvidenceSynthesis|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, EffectEvidenceSynthesis effectevidencesynthesis) returns EffectEvidenceSynthesis|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("EffectEvidenceSynthesis", effectevidencesynthesis.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, EffectEvidenceSynthesis, "EffectEvidenceSynthesis");
        return <EffectEvidenceSynthesis|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, EffectEvidenceSynthesis effectevidencesynthesis) returns EffectEvidenceSynthesis|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("EffectEvidenceSynthesis", id, effectevidencesynthesis.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, EffectEvidenceSynthesis, "EffectEvidenceSynthesis");
        return <EffectEvidenceSynthesis|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns EffectEvidenceSynthesis|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("EffectEvidenceSynthesis", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, EffectEvidenceSynthesis, "EffectEvidenceSynthesis");
        return <EffectEvidenceSynthesis|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("EffectEvidenceSynthesis", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("EffectEvidenceSynthesis", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("EffectEvidenceSynthesis");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("EffectEvidenceSynthesis", params);
    }
}

// // # BiologicallyDerivedProduct API                                                                                                          #
// 
service /fhir/r4/BiologicallyDerivedProduct on new fhirr4:Listener(config = r4_api_config:biologicallyderivedproductApiConfig) {
    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("BiologicallyDerivedProduct", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns BiologicallyDerivedProduct|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("BiologicallyDerivedProduct", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, BiologicallyDerivedProduct, "BiologicallyDerivedProduct");
        return <BiologicallyDerivedProduct|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns BiologicallyDerivedProduct|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("BiologicallyDerivedProduct", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, BiologicallyDerivedProduct, "BiologicallyDerivedProduct");
        return <BiologicallyDerivedProduct|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, BiologicallyDerivedProduct biologicallyderivedproduct) returns BiologicallyDerivedProduct|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("BiologicallyDerivedProduct", biologicallyderivedproduct.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, BiologicallyDerivedProduct, "BiologicallyDerivedProduct");
        return <BiologicallyDerivedProduct|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, BiologicallyDerivedProduct biologicallyderivedproduct) returns BiologicallyDerivedProduct|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("BiologicallyDerivedProduct", id, biologicallyderivedproduct.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, BiologicallyDerivedProduct, "BiologicallyDerivedProduct");
        return <BiologicallyDerivedProduct|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns BiologicallyDerivedProduct|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("BiologicallyDerivedProduct", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, BiologicallyDerivedProduct, "BiologicallyDerivedProduct");
        return <BiologicallyDerivedProduct|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("BiologicallyDerivedProduct", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("BiologicallyDerivedProduct", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("BiologicallyDerivedProduct");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("BiologicallyDerivedProduct", params);
    }
}

// // # Device API                                                                                                          #
// 
service /fhir/r4/Device on new fhirr4:Listener(config = r4_api_config:deviceApiConfig) {
    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("Device", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns Device|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("Device", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Device, "Device");
        return <Device|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns Device|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("Device", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Device, "Device");
        return <Device|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, Device device) returns Device|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("Device", device.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Device, "Device");
        return <Device|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, Device device) returns Device|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("Device", id, device.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Device, "Device");
        return <Device|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns Device|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("Device", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Device, "Device");
        return <Device|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("Device", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("Device", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("Device");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("Device", params);
    }
}

// // # VisionPrescription API                                                                                                          #
// 
service /fhir/r4/VisionPrescription on new fhirr4:Listener(config = r4_api_config:visionprescriptionApiConfig) {
    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("VisionPrescription", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns VisionPrescription|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("VisionPrescription", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, VisionPrescription, "VisionPrescription");
        return <VisionPrescription|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns VisionPrescription|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("VisionPrescription", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, VisionPrescription, "VisionPrescription");
        return <VisionPrescription|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, VisionPrescription visionprescription) returns VisionPrescription|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("VisionPrescription", visionprescription.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, VisionPrescription, "VisionPrescription");
        return <VisionPrescription|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, VisionPrescription visionprescription) returns VisionPrescription|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("VisionPrescription", id, visionprescription.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, VisionPrescription, "VisionPrescription");
        return <VisionPrescription|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns VisionPrescription|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("VisionPrescription", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, VisionPrescription, "VisionPrescription");
        return <VisionPrescription|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("VisionPrescription", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("VisionPrescription", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("VisionPrescription");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("VisionPrescription", params);
    }
}

// // # Media API                                                                                                          #
// 
service /fhir/r4/Media on new fhirr4:Listener(config = r4_api_config:mediaApiConfig) {
    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("Media", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns Media|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("Media", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Media, "Media");
        return <Media|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns Media|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("Media", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Media, "Media");
        return <Media|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, Media media) returns Media|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("Media", media.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Media, "Media");
        return <Media|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, Media media) returns Media|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("Media", id, media.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Media, "Media");
        return <Media|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns Media|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("Media", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Media, "Media");
        return <Media|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("Media", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("Media", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("Media");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("Media", params);
    }
}

// // # MedicinalProductContraindication API                                                                                                          #
// 
service /fhir/r4/MedicinalProductContraindication on new fhirr4:Listener(config = r4_api_config:medicinalproductcontraindicationApiConfig) {
    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("MedicinalProductContraindication", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns MedicinalProductContraindication|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("MedicinalProductContraindication", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicinalProductContraindication, "MedicinalProductContraindication");
        return <MedicinalProductContraindication|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns MedicinalProductContraindication|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("MedicinalProductContraindication", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicinalProductContraindication, "MedicinalProductContraindication");
        return <MedicinalProductContraindication|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, MedicinalProductContraindication medicinalproductcontraindication) returns MedicinalProductContraindication|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("MedicinalProductContraindication", medicinalproductcontraindication.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicinalProductContraindication, "MedicinalProductContraindication");
        return <MedicinalProductContraindication|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, MedicinalProductContraindication medicinalproductcontraindication) returns MedicinalProductContraindication|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("MedicinalProductContraindication", id, medicinalproductcontraindication.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicinalProductContraindication, "MedicinalProductContraindication");
        return <MedicinalProductContraindication|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns MedicinalProductContraindication|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("MedicinalProductContraindication", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicinalProductContraindication, "MedicinalProductContraindication");
        return <MedicinalProductContraindication|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("MedicinalProductContraindication", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("MedicinalProductContraindication", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("MedicinalProductContraindication");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("MedicinalProductContraindication", params);
    }
}

// // # EvidenceVariable API                                                                                                          #
// 
service /fhir/r4/EvidenceVariable on new fhirr4:Listener(config = r4_api_config:evidencevariableApiConfig) {
    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("EvidenceVariable", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns EvidenceVariable|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("EvidenceVariable", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, EvidenceVariable, "EvidenceVariable");
        return <EvidenceVariable|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns EvidenceVariable|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("EvidenceVariable", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, EvidenceVariable, "EvidenceVariable");
        return <EvidenceVariable|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, EvidenceVariable evidencevariable) returns EvidenceVariable|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("EvidenceVariable", evidencevariable.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, EvidenceVariable, "EvidenceVariable");
        return <EvidenceVariable|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, EvidenceVariable evidencevariable) returns EvidenceVariable|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("EvidenceVariable", id, evidencevariable.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, EvidenceVariable, "EvidenceVariable");
        return <EvidenceVariable|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns EvidenceVariable|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("EvidenceVariable", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, EvidenceVariable, "EvidenceVariable");
        return <EvidenceVariable|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("EvidenceVariable", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("EvidenceVariable", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("EvidenceVariable");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("EvidenceVariable", params);
    }
}

// // # MolecularSequence API                                                                                                          #
// 
service /fhir/r4/MolecularSequence on new fhirr4:Listener(config = r4_api_config:molecularsequenceApiConfig) {
    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("MolecularSequence", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns MolecularSequence|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("MolecularSequence", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MolecularSequence, "MolecularSequence");
        return <MolecularSequence|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns MolecularSequence|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("MolecularSequence", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MolecularSequence, "MolecularSequence");
        return <MolecularSequence|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, MolecularSequence molecularsequence) returns MolecularSequence|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("MolecularSequence", molecularsequence.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MolecularSequence, "MolecularSequence");
        return <MolecularSequence|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, MolecularSequence molecularsequence) returns MolecularSequence|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("MolecularSequence", id, molecularsequence.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MolecularSequence, "MolecularSequence");
        return <MolecularSequence|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns MolecularSequence|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("MolecularSequence", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MolecularSequence, "MolecularSequence");
        return <MolecularSequence|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("MolecularSequence", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("MolecularSequence", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("MolecularSequence");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("MolecularSequence", params);
    }
}

// // # MedicinalProduct API                                                                                                          #
// 
service /fhir/r4/MedicinalProduct on new fhirr4:Listener(config = r4_api_config:medicinalproductApiConfig) {
    // Everything operation - returns the MedicinalProduct and all related resources
    resource function get [string id]/\$everything(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performEverythingOperation("MedicinalProduct", id);
    }

    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("MedicinalProduct", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns MedicinalProduct|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("MedicinalProduct", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicinalProduct, "MedicinalProduct");
        return <MedicinalProduct|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns MedicinalProduct|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("MedicinalProduct", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicinalProduct, "MedicinalProduct");
        return <MedicinalProduct|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, MedicinalProduct medicinalproduct) returns MedicinalProduct|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("MedicinalProduct", medicinalproduct.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicinalProduct, "MedicinalProduct");
        return <MedicinalProduct|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, MedicinalProduct medicinalproduct) returns MedicinalProduct|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("MedicinalProduct", id, medicinalproduct.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicinalProduct, "MedicinalProduct");
        return <MedicinalProduct|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns MedicinalProduct|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("MedicinalProduct", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicinalProduct, "MedicinalProduct");
        return <MedicinalProduct|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("MedicinalProduct", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("MedicinalProduct", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("MedicinalProduct");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("MedicinalProduct", params);
    }
}

// // # DeviceMetric API                                                                                                          #
// 
service /fhir/r4/DeviceMetric on new fhirr4:Listener(config = r4_api_config:devicemetricApiConfig) {
    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("DeviceMetric", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns DeviceMetric|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("DeviceMetric", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, DeviceMetric, "DeviceMetric");
        return <DeviceMetric|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns DeviceMetric|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("DeviceMetric", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, DeviceMetric, "DeviceMetric");
        return <DeviceMetric|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, DeviceMetric devicemetric) returns DeviceMetric|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("DeviceMetric", devicemetric.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, DeviceMetric, "DeviceMetric");
        return <DeviceMetric|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, DeviceMetric devicemetric) returns DeviceMetric|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("DeviceMetric", id, devicemetric.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, DeviceMetric, "DeviceMetric");
        return <DeviceMetric|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns DeviceMetric|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("DeviceMetric", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, DeviceMetric, "DeviceMetric");
        return <DeviceMetric|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("DeviceMetric", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("DeviceMetric", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("DeviceMetric");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("DeviceMetric", params);
    }
}

// // # Flag API                                                                                                          #
// 
service /fhir/r4/Flag on new fhirr4:Listener(config = r4_api_config:flagApiConfig) {
    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("Flag", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns Flag|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("Flag", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Flag, "Flag");
        return <Flag|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns Flag|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("Flag", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Flag, "Flag");
        return <Flag|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, Flag flag) returns Flag|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("Flag", flag.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Flag, "Flag");
        return <Flag|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, Flag flag) returns Flag|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("Flag", id, flag.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Flag, "Flag");
        return <Flag|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns Flag|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("Flag", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Flag, "Flag");
        return <Flag|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("Flag", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("Flag", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("Flag");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("Flag", params);
    }
}

// // # SubstanceNucleicAcid API                                                                                                          #
// 
service /fhir/r4/SubstanceNucleicAcid on new fhirr4:Listener(config = r4_api_config:substancenucleicacidApiConfig) {
    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("SubstanceNucleicAcid", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns SubstanceNucleicAcid|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("SubstanceNucleicAcid", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, SubstanceNucleicAcid, "SubstanceNucleicAcid");
        return <SubstanceNucleicAcid|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns SubstanceNucleicAcid|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("SubstanceNucleicAcid", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, SubstanceNucleicAcid, "SubstanceNucleicAcid");
        return <SubstanceNucleicAcid|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, SubstanceNucleicAcid substancenucleicacid) returns SubstanceNucleicAcid|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("SubstanceNucleicAcid", substancenucleicacid.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, SubstanceNucleicAcid, "SubstanceNucleicAcid");
        return <SubstanceNucleicAcid|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, SubstanceNucleicAcid substancenucleicacid) returns SubstanceNucleicAcid|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("SubstanceNucleicAcid", id, substancenucleicacid.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, SubstanceNucleicAcid, "SubstanceNucleicAcid");
        return <SubstanceNucleicAcid|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns SubstanceNucleicAcid|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("SubstanceNucleicAcid", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, SubstanceNucleicAcid, "SubstanceNucleicAcid");
        return <SubstanceNucleicAcid|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("SubstanceNucleicAcid", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("SubstanceNucleicAcid", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("SubstanceNucleicAcid");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("SubstanceNucleicAcid", params);
    }
}

// // # RiskEvidenceSynthesis API                                                                                                          #
// 
service /fhir/r4/RiskEvidenceSynthesis on new fhirr4:Listener(config = r4_api_config:riskevidencesynthesisApiConfig) {
    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("RiskEvidenceSynthesis", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns RiskEvidenceSynthesis|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("RiskEvidenceSynthesis", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, RiskEvidenceSynthesis, "RiskEvidenceSynthesis");
        return <RiskEvidenceSynthesis|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns RiskEvidenceSynthesis|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("RiskEvidenceSynthesis", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, RiskEvidenceSynthesis, "RiskEvidenceSynthesis");
        return <RiskEvidenceSynthesis|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, RiskEvidenceSynthesis riskevidencesynthesis) returns RiskEvidenceSynthesis|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("RiskEvidenceSynthesis", riskevidencesynthesis.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, RiskEvidenceSynthesis, "RiskEvidenceSynthesis");
        return <RiskEvidenceSynthesis|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, RiskEvidenceSynthesis riskevidencesynthesis) returns RiskEvidenceSynthesis|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("RiskEvidenceSynthesis", id, riskevidencesynthesis.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, RiskEvidenceSynthesis, "RiskEvidenceSynthesis");
        return <RiskEvidenceSynthesis|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns RiskEvidenceSynthesis|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("RiskEvidenceSynthesis", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, RiskEvidenceSynthesis, "RiskEvidenceSynthesis");
        return <RiskEvidenceSynthesis|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("RiskEvidenceSynthesis", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("RiskEvidenceSynthesis", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("RiskEvidenceSynthesis");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("RiskEvidenceSynthesis", params);
    }
}

// // # AppointmentResponse API                                                                                                          #
// 
service /fhir/r4/AppointmentResponse on new fhirr4:Listener(config = r4_api_config:appointmentresponseApiConfig) {
    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("AppointmentResponse", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns AppointmentResponse|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("AppointmentResponse", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, AppointmentResponse, "AppointmentResponse");
        return <AppointmentResponse|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns AppointmentResponse|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("AppointmentResponse", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, AppointmentResponse, "AppointmentResponse");
        return <AppointmentResponse|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, AppointmentResponse appointmentresponse) returns AppointmentResponse|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("AppointmentResponse", appointmentresponse.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, AppointmentResponse, "AppointmentResponse");
        return <AppointmentResponse|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, AppointmentResponse appointmentresponse) returns AppointmentResponse|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("AppointmentResponse", id, appointmentresponse.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, AppointmentResponse, "AppointmentResponse");
        return <AppointmentResponse|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns AppointmentResponse|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("AppointmentResponse", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, AppointmentResponse, "AppointmentResponse");
        return <AppointmentResponse|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("AppointmentResponse", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("AppointmentResponse", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("AppointmentResponse");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("AppointmentResponse", params);
    }
}

// // # StructureMap API                                                                                                          #
// 
service /fhir/r4/StructureMap on new fhirr4:Listener(config = r4_api_config:structuremapApiConfig) {
    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("StructureMap", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns StructureMap|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("StructureMap", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, StructureMap, "StructureMap");
        return <StructureMap|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns StructureMap|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("StructureMap", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, StructureMap, "StructureMap");
        return <StructureMap|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, StructureMap structuremap) returns StructureMap|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("StructureMap", structuremap.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, StructureMap, "StructureMap");
        return <StructureMap|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, StructureMap structuremap) returns StructureMap|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("StructureMap", id, structuremap.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, StructureMap, "StructureMap");
        return <StructureMap|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns StructureMap|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("StructureMap", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, StructureMap, "StructureMap");
        return <StructureMap|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("StructureMap", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("StructureMap", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("StructureMap");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("StructureMap", params);
    }
}

// // # AdverseEvent API                                                                                                          #
// 
service /fhir/r4/AdverseEvent on new fhirr4:Listener(config = r4_api_config:adverseeventApiConfig) {
    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("AdverseEvent", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns AdverseEvent|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("AdverseEvent", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, AdverseEvent, "AdverseEvent");
        return <AdverseEvent|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns AdverseEvent|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("AdverseEvent", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, AdverseEvent, "AdverseEvent");
        return <AdverseEvent|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, AdverseEvent adverseevent) returns AdverseEvent|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("AdverseEvent", adverseevent.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, AdverseEvent, "AdverseEvent");
        return <AdverseEvent|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, AdverseEvent adverseevent) returns AdverseEvent|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("AdverseEvent", id, adverseevent.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, AdverseEvent, "AdverseEvent");
        return <AdverseEvent|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns AdverseEvent|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("AdverseEvent", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, AdverseEvent, "AdverseEvent");
        return <AdverseEvent|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("AdverseEvent", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("AdverseEvent", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("AdverseEvent");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("AdverseEvent", params);
    }
}

// // # GuidanceResponse API                                                                                                          #
// 
service /fhir/r4/GuidanceResponse on new fhirr4:Listener(config = r4_api_config:guidanceresponseApiConfig) {
    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("GuidanceResponse", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns GuidanceResponse|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("GuidanceResponse", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, GuidanceResponse, "GuidanceResponse");
        return <GuidanceResponse|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns GuidanceResponse|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("GuidanceResponse", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, GuidanceResponse, "GuidanceResponse");
        return <GuidanceResponse|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, GuidanceResponse guidanceresponse) returns GuidanceResponse|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("GuidanceResponse", guidanceresponse.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, GuidanceResponse, "GuidanceResponse");
        return <GuidanceResponse|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, GuidanceResponse guidanceresponse) returns GuidanceResponse|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("GuidanceResponse", id, guidanceresponse.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, GuidanceResponse, "GuidanceResponse");
        return <GuidanceResponse|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns GuidanceResponse|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("GuidanceResponse", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, GuidanceResponse, "GuidanceResponse");
        return <GuidanceResponse|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("GuidanceResponse", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("GuidanceResponse", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("GuidanceResponse");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("GuidanceResponse", params);
    }
}

// // # Observation API                                                                                                          #
// 
service /fhir/r4/Observation on new fhirr4:Listener(config = r4_api_config:observationApiConfig) {
    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("Observation", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns Observation|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("Observation", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Observation, "Observation");
        return <Observation|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns Observation|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("Observation", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Observation, "Observation");
        return <Observation|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, Observation observation) returns Observation|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("Observation", observation.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Observation, "Observation");
        return <Observation|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, Observation observation) returns Observation|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("Observation", id, observation.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Observation, "Observation");
        return <Observation|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns Observation|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("Observation", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Observation, "Observation");
        return <Observation|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("Observation", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("Observation", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("Observation");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("Observation", params);
    }
}

// // # MedicationAdministration API                                                                                                          #
// 
service /fhir/r4/MedicationAdministration on new fhirr4:Listener(config = r4_api_config:medicationadministrationApiConfig) {
    // Search for resources using /MedicationAdministration?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("MedicationAdministration", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns MedicationAdministration|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("MedicationAdministration", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicationAdministration, "MedicationAdministration");
        return <MedicationAdministration|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns MedicationAdministration|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("MedicationAdministration", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicationAdministration, "MedicationAdministration");
        return <MedicationAdministration|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, MedicationAdministration medicationadministration) returns MedicationAdministration|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("MedicationAdministration", medicationadministration.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicationAdministration, "MedicationAdministration");
        return <MedicationAdministration|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, MedicationAdministration medicationadministration) returns MedicationAdministration|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("MedicationAdministration", id, medicationadministration.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicationAdministration, "MedicationAdministration");
        return <MedicationAdministration|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns MedicationAdministration|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("MedicationAdministration", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicationAdministration, "MedicationAdministration");
        return <MedicationAdministration|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("MedicationAdministration", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("MedicationAdministration", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("MedicationAdministration");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("MedicationAdministration", params);
    }
}

// // # EnrollmentResponse API                                                                                                          #
// 
service /fhir/r4/EnrollmentResponse on new fhirr4:Listener(config = r4_api_config:enrollmentresponseApiConfig) {
    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("EnrollmentResponse", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns EnrollmentResponse|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("EnrollmentResponse", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, EnrollmentResponse, "EnrollmentResponse");
        return <EnrollmentResponse|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns EnrollmentResponse|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("EnrollmentResponse", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, EnrollmentResponse, "EnrollmentResponse");
        return <EnrollmentResponse|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, EnrollmentResponse enrollmentresponse) returns EnrollmentResponse|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("EnrollmentResponse", enrollmentresponse.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, EnrollmentResponse, "EnrollmentResponse");
        return <EnrollmentResponse|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, EnrollmentResponse enrollmentresponse) returns EnrollmentResponse|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("EnrollmentResponse", id, enrollmentresponse.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, EnrollmentResponse, "EnrollmentResponse");
        return <EnrollmentResponse|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns EnrollmentResponse|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("EnrollmentResponse", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, EnrollmentResponse, "EnrollmentResponse");
        return <EnrollmentResponse|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("EnrollmentResponse", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("EnrollmentResponse", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("EnrollmentResponse");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("EnrollmentResponse", params);
    }
}

// // # Library API                                                                                                          #
// 
service /fhir/r4/Library on new fhirr4:Listener(config = r4_api_config:libraryApiConfig) {
    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("Library", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns Library|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("Library", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Library, "Library");
        return <Library|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns Library|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("Library", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Library, "Library");
        return <Library|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, Library library) returns Library|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("Library", library.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Library, "Library");
        return <Library|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, Library library) returns Library|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("Library", id, library.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Library, "Library");
        return <Library|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns Library|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("Library", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Library, "Library");
        return <Library|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("Library", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("Library", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("Library");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("Library", params);
    }
}

// // # Binary API                                                                                                          #
// 
service /fhir/r4/Binary on new fhirr4:Listener(config = r4_api_config:binaryApiConfig) {
    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("Binary", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns Binary|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("Binary", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Binary, "Binary");
        return <Binary|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns Binary|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("Binary", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Binary, "Binary");
        return <Binary|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, Binary binary) returns Binary|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("Binary", binary.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Binary, "Binary");
        return <Binary|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, Binary binary) returns Binary|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("Binary", id, binary.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Binary, "Binary");
        return <Binary|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns Binary|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("Binary", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Binary, "Binary");
        return <Binary|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("Binary", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("Binary", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("Binary");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("Binary", params);
    }
}

// // # MedicinalProductInteraction API                                                                                                          #
// 
service /fhir/r4/MedicinalProductInteraction on new fhirr4:Listener(config = r4_api_config:medicinalproductinteractionApiConfig) {
    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("MedicinalProductInteraction", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns MedicinalProductInteraction|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("MedicinalProductInteraction", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicinalProductInteraction, "MedicinalProductInteraction");
        return <MedicinalProductInteraction|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns MedicinalProductInteraction|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("MedicinalProductInteraction", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicinalProductInteraction, "MedicinalProductInteraction");
        return <MedicinalProductInteraction|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, MedicinalProductInteraction medicinalproductinteraction) returns MedicinalProductInteraction|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("MedicinalProductInteraction", medicinalproductinteraction.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicinalProductInteraction, "MedicinalProductInteraction");
        return <MedicinalProductInteraction|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, MedicinalProductInteraction medicinalproductinteraction) returns MedicinalProductInteraction|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("MedicinalProductInteraction", id, medicinalproductinteraction.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicinalProductInteraction, "MedicinalProductInteraction");
        return <MedicinalProductInteraction|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns MedicinalProductInteraction|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("MedicinalProductInteraction", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicinalProductInteraction, "MedicinalProductInteraction");
        return <MedicinalProductInteraction|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("MedicinalProductInteraction", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("MedicinalProductInteraction", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("MedicinalProductInteraction");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("MedicinalProductInteraction", params);
    }
}

// // # MedicationStatement API                                                                                                          #
// 
service /fhir/r4/MedicationStatement on new fhirr4:Listener(config = r4_api_config:medicationstatementApiConfig) {
    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("MedicationStatement", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns MedicationStatement|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("MedicationStatement", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicationStatement, "MedicationStatement");
        return <MedicationStatement|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns MedicationStatement|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("MedicationStatement", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicationStatement, "MedicationStatement");
        return <MedicationStatement|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, MedicationStatement medicationstatement) returns MedicationStatement|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("MedicationStatement", medicationstatement.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicationStatement, "MedicationStatement");
        return <MedicationStatement|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, MedicationStatement medicationstatement) returns MedicationStatement|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("MedicationStatement", id, medicationstatement.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicationStatement, "MedicationStatement");
        return <MedicationStatement|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns MedicationStatement|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("MedicationStatement", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicationStatement, "MedicationStatement");
        return <MedicationStatement|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("MedicationStatement", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("MedicationStatement", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("MedicationStatement");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("MedicationStatement", params);
    }
}

// // # CommunicationRequest API                                                                                                          #
// 
service /fhir/r4/CommunicationRequest on new fhirr4:Listener(config = r4_api_config:communicationrequestApiConfig) {
    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("CommunicationRequest", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns CommunicationRequest|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("CommunicationRequest", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, CommunicationRequest, "CommunicationRequest");
        return <CommunicationRequest|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns CommunicationRequest|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("CommunicationRequest", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, CommunicationRequest, "CommunicationRequest");
        return <CommunicationRequest|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, CommunicationRequest communicationrequest) returns CommunicationRequest|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("CommunicationRequest", communicationrequest.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, CommunicationRequest, "CommunicationRequest");
        return <CommunicationRequest|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, CommunicationRequest communicationrequest) returns CommunicationRequest|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("CommunicationRequest", id, communicationrequest.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, CommunicationRequest, "CommunicationRequest");
        return <CommunicationRequest|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns CommunicationRequest|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("CommunicationRequest", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, CommunicationRequest, "CommunicationRequest");
        return <CommunicationRequest|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("CommunicationRequest", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("CommunicationRequest", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("CommunicationRequest");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("CommunicationRequest", params);
    }
}

// // # TestScript API                                                                                                          #
// 
service /fhir/r4/TestScript on new fhirr4:Listener(config = r4_api_config:testscriptApiConfig) {
    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("TestScript", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns TestScript|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("TestScript", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, TestScript, "TestScript");
        return <TestScript|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns TestScript|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("TestScript", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, TestScript, "TestScript");
        return <TestScript|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, TestScript testscript) returns TestScript|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("TestScript", testscript.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, TestScript, "TestScript");
        return <TestScript|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, TestScript testscript) returns TestScript|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("TestScript", id, testscript.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, TestScript, "TestScript");
        return <TestScript|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns TestScript|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("TestScript", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, TestScript, "TestScript");
        return <TestScript|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("TestScript", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("TestScript", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("TestScript");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("TestScript", params);
    }
}

// // # SubstancePolymer API                                                                                                          #
// 
service /fhir/r4/SubstancePolymer on new fhirr4:Listener(config = r4_api_config:substancepolymerApiConfig) {
    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("SubstancePolymer", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns SubstancePolymer|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("SubstancePolymer", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, SubstancePolymer, "SubstancePolymer");
        return <SubstancePolymer|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns SubstancePolymer|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("SubstancePolymer", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, SubstancePolymer, "SubstancePolymer");
        return <SubstancePolymer|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, SubstancePolymer substancepolymer) returns SubstancePolymer|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("SubstancePolymer", substancepolymer.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, SubstancePolymer, "SubstancePolymer");
        return <SubstancePolymer|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, SubstancePolymer substancepolymer) returns SubstancePolymer|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("SubstancePolymer", id, substancepolymer.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, SubstancePolymer, "SubstancePolymer");
        return <SubstancePolymer|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns SubstancePolymer|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("SubstancePolymer", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, SubstancePolymer, "SubstancePolymer");
        return <SubstancePolymer|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("SubstancePolymer", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("SubstancePolymer", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("SubstancePolymer");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("SubstancePolymer", params);
    }
}

// // # Basic API                                                                                                          #
// 
service /fhir/r4/Basic on new fhirr4:Listener(config = r4_api_config:basicApiConfig) {
    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("Basic", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns Basic|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("Basic", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Basic, "Basic");
        return <Basic|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns Basic|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("Basic", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Basic, "Basic");
        return <Basic|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, Basic basic) returns Basic|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("Basic", basic.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Basic, "Basic");
        return <Basic|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, Basic basic) returns Basic|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("Basic", id, basic.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Basic, "Basic");
        return <Basic|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns Basic|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("Basic", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Basic, "Basic");
        return <Basic|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("Basic", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("Basic", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("Basic");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("Basic", params);
    }
}

// // # TestReport API                                                                                                          #
// 
service /fhir/r4/TestReport on new fhirr4:Listener(config = r4_api_config:testreportApiConfig) {
    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("TestReport", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns TestReport|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("TestReport", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, TestReport, "TestReport");
        return <TestReport|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns TestReport|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("TestReport", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, TestReport, "TestReport");
        return <TestReport|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, TestReport testreport) returns TestReport|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("TestReport", testreport.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, TestReport, "TestReport");
        return <TestReport|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, TestReport testreport) returns TestReport|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("TestReport", id, testreport.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, TestReport, "TestReport");
        return <TestReport|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns TestReport|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("TestReport", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, TestReport, "TestReport");
        return <TestReport|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("TestReport", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("TestReport", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("TestReport");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("TestReport", params);
    }
}

// // # ClaimResponse API                                                                                                          #
// 
service /fhir/r4/ClaimResponse on new fhirr4:Listener(config = r4_api_config:claimresponseApiConfig) {
    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("ClaimResponse", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns ClaimResponse|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("ClaimResponse", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ClaimResponse, "ClaimResponse");
        return <ClaimResponse|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns ClaimResponse|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("ClaimResponse", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ClaimResponse, "ClaimResponse");
        return <ClaimResponse|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, ClaimResponse claimresponse) returns ClaimResponse|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("ClaimResponse", claimresponse.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ClaimResponse, "ClaimResponse");
        return <ClaimResponse|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, ClaimResponse claimresponse) returns ClaimResponse|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("ClaimResponse", id, claimresponse.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ClaimResponse, "ClaimResponse");
        return <ClaimResponse|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns ClaimResponse|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("ClaimResponse", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ClaimResponse, "ClaimResponse");
        return <ClaimResponse|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("ClaimResponse", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("ClaimResponse", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("ClaimResponse");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("ClaimResponse", params);
    }
}

// // # MedicationDispense API                                                                                                          #
// 
service /fhir/r4/MedicationDispense on new fhirr4:Listener(config = r4_api_config:medicationdispenseApiConfig) {
    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("MedicationDispense", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns MedicationDispense|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("MedicationDispense", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicationDispense, "MedicationDispense");
        return <MedicationDispense|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns MedicationDispense|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("MedicationDispense", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicationDispense, "MedicationDispense");
        return <MedicationDispense|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, MedicationDispense medicationdispense) returns MedicationDispense|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("MedicationDispense", medicationdispense.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicationDispense, "MedicationDispense");
        return <MedicationDispense|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, MedicationDispense medicationdispense) returns MedicationDispense|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("MedicationDispense", id, medicationdispense.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicationDispense, "MedicationDispense");
        return <MedicationDispense|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns MedicationDispense|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("MedicationDispense", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicationDispense, "MedicationDispense");
        return <MedicationDispense|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("MedicationDispense", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("MedicationDispense", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("MedicationDispense");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("MedicationDispense", params);
    }
}

// // # DiagnosticReport API                                                                                                          #
// 
service /fhir/r4/DiagnosticReport on new fhirr4:Listener(config = r4_api_config:diagnosticreportApiConfig) {
    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("DiagnosticReport", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns DiagnosticReport|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("DiagnosticReport", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, DiagnosticReport, "DiagnosticReport");
        return <DiagnosticReport|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns DiagnosticReport|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("DiagnosticReport", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, DiagnosticReport, "DiagnosticReport");
        return <DiagnosticReport|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, DiagnosticReport diagnosticreport) returns DiagnosticReport|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("DiagnosticReport", diagnosticreport.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, DiagnosticReport, "DiagnosticReport");
        return <DiagnosticReport|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, DiagnosticReport diagnosticreport) returns DiagnosticReport|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("DiagnosticReport", id, diagnosticreport.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, DiagnosticReport, "DiagnosticReport");
        return <DiagnosticReport|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns DiagnosticReport|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("DiagnosticReport", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, DiagnosticReport, "DiagnosticReport");
        return <DiagnosticReport|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("DiagnosticReport", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("DiagnosticReport", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("DiagnosticReport");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("DiagnosticReport", params);
    }
}

// // # OrganizationAffiliation API                                                                                                          #
// 
service /fhir/r4/OrganizationAffiliation on new fhirr4:Listener(config = r4_api_config:organizationaffiliationApiConfig) {
    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("OrganizationAffiliation", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns OrganizationAffiliation|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("OrganizationAffiliation", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, OrganizationAffiliation, "OrganizationAffiliation");
        return <OrganizationAffiliation|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns OrganizationAffiliation|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("OrganizationAffiliation", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, OrganizationAffiliation, "OrganizationAffiliation");
        return <OrganizationAffiliation|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, OrganizationAffiliation organizationaffiliation) returns OrganizationAffiliation|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("OrganizationAffiliation", organizationaffiliation.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, OrganizationAffiliation, "OrganizationAffiliation");
        return <OrganizationAffiliation|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, OrganizationAffiliation organizationaffiliation) returns OrganizationAffiliation|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("OrganizationAffiliation", id, organizationaffiliation.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, OrganizationAffiliation, "OrganizationAffiliation");
        return <OrganizationAffiliation|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns OrganizationAffiliation|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("OrganizationAffiliation", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, OrganizationAffiliation, "OrganizationAffiliation");
        return <OrganizationAffiliation|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("OrganizationAffiliation", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("OrganizationAffiliation", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("OrganizationAffiliation");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("OrganizationAffiliation", params);
    }
}

// // # HealthcareService API                                                                                                          #
// 
service /fhir/r4/HealthcareService on new fhirr4:Listener(config = r4_api_config:healthcareserviceApiConfig) {
    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("HealthcareService", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns HealthcareService|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("HealthcareService", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, HealthcareService, "HealthcareService");
        return <HealthcareService|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns HealthcareService|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("HealthcareService", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, HealthcareService, "HealthcareService");
        return <HealthcareService|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, HealthcareService healthcareservice) returns HealthcareService|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("HealthcareService", healthcareservice.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, HealthcareService, "HealthcareService");
        return <HealthcareService|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, HealthcareService healthcareservice) returns HealthcareService|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("HealthcareService", id, healthcareservice.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, HealthcareService, "HealthcareService");
        return <HealthcareService|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns HealthcareService|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("HealthcareService", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, HealthcareService, "HealthcareService");
        return <HealthcareService|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("HealthcareService", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("HealthcareService", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("HealthcareService");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("HealthcareService", params);
    }
}

// // # MedicinalProductIndication API                                                                                                          #
// 
service /fhir/r4/MedicinalProductIndication on new fhirr4:Listener(config = r4_api_config:medicinalproductindicationApiConfig) {
    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("MedicinalProductIndication", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns MedicinalProductIndication|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("MedicinalProductIndication", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicinalProductIndication, "MedicinalProductIndication");
        return <MedicinalProductIndication|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns MedicinalProductIndication|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("MedicinalProductIndication", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicinalProductIndication, "MedicinalProductIndication");
        return <MedicinalProductIndication|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, MedicinalProductIndication medicinalproductindication) returns MedicinalProductIndication|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("MedicinalProductIndication", medicinalproductindication.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicinalProductIndication, "MedicinalProductIndication");
        return <MedicinalProductIndication|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, MedicinalProductIndication medicinalproductindication) returns MedicinalProductIndication|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("MedicinalProductIndication", id, medicinalproductindication.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicinalProductIndication, "MedicinalProductIndication");
        return <MedicinalProductIndication|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns MedicinalProductIndication|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("MedicinalProductIndication", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicinalProductIndication, "MedicinalProductIndication");
        return <MedicinalProductIndication|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("MedicinalProductIndication", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("MedicinalProductIndication", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("MedicinalProductIndication");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("MedicinalProductIndication", params);
    }
}

// // # NutritionOrder API                                                                                                          #
// 
service /fhir/r4/NutritionOrder on new fhirr4:Listener(config = r4_api_config:nutritionorderApiConfig) {
    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("NutritionOrder", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns NutritionOrder|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("NutritionOrder", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, NutritionOrder, "NutritionOrder");
        return <NutritionOrder|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns NutritionOrder|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("NutritionOrder", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, NutritionOrder, "NutritionOrder");
        return <NutritionOrder|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, NutritionOrder nutritionorder) returns NutritionOrder|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("NutritionOrder", nutritionorder.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, NutritionOrder, "NutritionOrder");
        return <NutritionOrder|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, NutritionOrder nutritionorder) returns NutritionOrder|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("NutritionOrder", id, nutritionorder.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, NutritionOrder, "NutritionOrder");
        return <NutritionOrder|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns NutritionOrder|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("NutritionOrder", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, NutritionOrder, "NutritionOrder");
        return <NutritionOrder|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("NutritionOrder", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("NutritionOrder", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("NutritionOrder");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("NutritionOrder", params);
    }
}

// // # TerminologyCapabilities API                                                                                                          #
// 
service /fhir/r4/TerminologyCapabilities on new fhirr4:Listener(config = r4_api_config:terminologycapabilitiesApiConfig) {
    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("TerminologyCapabilities", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns TerminologyCapabilities|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("TerminologyCapabilities", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, TerminologyCapabilities, "TerminologyCapabilities");
        return <TerminologyCapabilities|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns TerminologyCapabilities|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("TerminologyCapabilities", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, TerminologyCapabilities, "TerminologyCapabilities");
        return <TerminologyCapabilities|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, TerminologyCapabilities terminologycapabilities) returns TerminologyCapabilities|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("TerminologyCapabilities", terminologycapabilities.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, TerminologyCapabilities, "TerminologyCapabilities");
        return <TerminologyCapabilities|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, TerminologyCapabilities terminologycapabilities) returns TerminologyCapabilities|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("TerminologyCapabilities", id, terminologycapabilities.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, TerminologyCapabilities, "TerminologyCapabilities");
        return <TerminologyCapabilities|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns TerminologyCapabilities|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("TerminologyCapabilities", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, TerminologyCapabilities, "TerminologyCapabilities");
        return <TerminologyCapabilities|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("TerminologyCapabilities", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("TerminologyCapabilities", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("TerminologyCapabilities");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("TerminologyCapabilities", params);
    }
}

// // # Evidence API                                                                                                          #
// 
service /fhir/r4/Evidence on new fhirr4:Listener(config = r4_api_config:evidenceApiConfig) {
    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("Evidence", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns Evidence|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("Evidence", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Evidence, "Evidence");
        return <Evidence|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns Evidence|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("Evidence", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Evidence, "Evidence");
        return <Evidence|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, Evidence evidence) returns Evidence|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("Evidence", evidence.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Evidence, "Evidence");
        return <Evidence|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, Evidence evidence) returns Evidence|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("Evidence", id, evidence.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Evidence, "Evidence");
        return <Evidence|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns Evidence|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("Evidence", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Evidence, "Evidence");
        return <Evidence|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("Evidence", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("Evidence", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("Evidence");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("Evidence", params);
    }
}

// // # AuditEvent API                                                                                                          #
// 
service /fhir/r4/AuditEvent on new fhirr4:Listener(config = r4_api_config:auditeventApiConfig) {
    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("AuditEvent", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns AuditEvent|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("AuditEvent", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, AuditEvent, "AuditEvent");
        return <AuditEvent|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns AuditEvent|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("AuditEvent", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, AuditEvent, "AuditEvent");
        return <AuditEvent|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, AuditEvent auditevent) returns AuditEvent|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("AuditEvent", auditevent.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, AuditEvent, "AuditEvent");
        return <AuditEvent|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, AuditEvent auditevent) returns AuditEvent|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("AuditEvent", id, auditevent.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, AuditEvent, "AuditEvent");
        return <AuditEvent|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns AuditEvent|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("AuditEvent", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, AuditEvent, "AuditEvent");
        return <AuditEvent|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("AuditEvent", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("AuditEvent", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("AuditEvent");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("AuditEvent", params);
    }
}

// // # PaymentReconciliation API                                                                                                          #
// 
service /fhir/r4/PaymentReconciliation on new fhirr4:Listener(config = r4_api_config:paymentreconciliationApiConfig) {
    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("PaymentReconciliation", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns PaymentReconciliation|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("PaymentReconciliation", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, PaymentReconciliation, "PaymentReconciliation");
        return <PaymentReconciliation|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns PaymentReconciliation|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("PaymentReconciliation", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, PaymentReconciliation, "PaymentReconciliation");
        return <PaymentReconciliation|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, PaymentReconciliation paymentreconciliation) returns PaymentReconciliation|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("PaymentReconciliation", paymentreconciliation.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, PaymentReconciliation, "PaymentReconciliation");
        return <PaymentReconciliation|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, PaymentReconciliation paymentreconciliation) returns PaymentReconciliation|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("PaymentReconciliation", id, paymentreconciliation.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, PaymentReconciliation, "PaymentReconciliation");
        return <PaymentReconciliation|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns PaymentReconciliation|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("PaymentReconciliation", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, PaymentReconciliation, "PaymentReconciliation");
        return <PaymentReconciliation|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("PaymentReconciliation", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("PaymentReconciliation", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("PaymentReconciliation");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("PaymentReconciliation", params);
    }
}

// // # Condition API                                                                                                          #
// 
service /fhir/r4/Condition on new fhirr4:Listener(config = r4_api_config:conditionApiConfig) {
    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("Condition", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns Condition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("Condition", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Condition, "Condition");
        return <Condition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns Condition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("Condition", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Condition, "Condition");
        return <Condition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, Condition condition) returns Condition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("Condition", condition.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Condition, "Condition");
        return <Condition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, Condition condition) returns Condition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("Condition", id, condition.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Condition, "Condition");
        return <Condition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns Condition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("Condition", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Condition, "Condition");
        return <Condition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("Condition", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("Condition", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("Condition");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("Condition", params);
    }
}

// // # SpecimenDefinition API                                                                                                          #
// 
service /fhir/r4/SpecimenDefinition on new fhirr4:Listener(config = r4_api_config:specimendefinitionApiConfig) {
    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("SpecimenDefinition", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns SpecimenDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("SpecimenDefinition", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, SpecimenDefinition, "SpecimenDefinition");
        return <SpecimenDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns SpecimenDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("SpecimenDefinition", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, SpecimenDefinition, "SpecimenDefinition");
        return <SpecimenDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, SpecimenDefinition specimendefinition) returns SpecimenDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("SpecimenDefinition", specimendefinition.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, SpecimenDefinition, "SpecimenDefinition");
        return <SpecimenDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, SpecimenDefinition specimendefinition) returns SpecimenDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("SpecimenDefinition", id, specimendefinition.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, SpecimenDefinition, "SpecimenDefinition");
        return <SpecimenDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns SpecimenDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("SpecimenDefinition", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, SpecimenDefinition, "SpecimenDefinition");
        return <SpecimenDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("SpecimenDefinition", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("SpecimenDefinition", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("SpecimenDefinition");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("SpecimenDefinition", params);
    }
}

// // # Composition API                                                                                                          #
// 
service /fhir/r4/Composition on new fhirr4:Listener(config = r4_api_config:compositionApiConfig) {
    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("Composition", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns Composition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("Composition", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Composition, "Composition");
        return <Composition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns Composition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("Composition", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Composition, "Composition");
        return <Composition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, Composition composition) returns Composition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("Composition", composition.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Composition, "Composition");
        return <Composition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, Composition composition) returns Composition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("Composition", id, composition.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Composition, "Composition");
        return <Composition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns Composition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("Composition", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Composition, "Composition");
        return <Composition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("Composition", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("Composition", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("Composition");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("Composition", params);
    }
}

// // # DetectedIssue API                                                                                                          #
// 
service /fhir/r4/DetectedIssue on new fhirr4:Listener(config = r4_api_config:detectedissueApiConfig) {
    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("DetectedIssue", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns DetectedIssue|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("DetectedIssue", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, DetectedIssue, "DetectedIssue");
        return <DetectedIssue|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns DetectedIssue|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("DetectedIssue", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, DetectedIssue, "DetectedIssue");
        return <DetectedIssue|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, DetectedIssue detectedissue) returns DetectedIssue|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("DetectedIssue", detectedissue.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, DetectedIssue, "DetectedIssue");
        return <DetectedIssue|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, DetectedIssue detectedissue) returns DetectedIssue|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("DetectedIssue", id, detectedissue.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, DetectedIssue, "DetectedIssue");
        return <DetectedIssue|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns DetectedIssue|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("DetectedIssue", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, DetectedIssue, "DetectedIssue");
        return <DetectedIssue|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("DetectedIssue", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("DetectedIssue", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("DetectedIssue");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("DetectedIssue", params);
    }
}

// // # CompartmentDefinition API                                                                                                          #
// 
service /fhir/r4/CompartmentDefinition on new fhirr4:Listener(config = r4_api_config:compartmentdefinitionApiConfig) {
    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("CompartmentDefinition", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns CompartmentDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("CompartmentDefinition", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, CompartmentDefinition, "CompartmentDefinition");
        return <CompartmentDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns CompartmentDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("CompartmentDefinition", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, CompartmentDefinition, "CompartmentDefinition");
        return <CompartmentDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, CompartmentDefinition compartmentdefinition) returns CompartmentDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("CompartmentDefinition", compartmentdefinition.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, CompartmentDefinition, "CompartmentDefinition");
        return <CompartmentDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, CompartmentDefinition compartmentdefinition) returns CompartmentDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("CompartmentDefinition", id, compartmentdefinition.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, CompartmentDefinition, "CompartmentDefinition");
        return <CompartmentDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns CompartmentDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("CompartmentDefinition", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, CompartmentDefinition, "CompartmentDefinition");
        return <CompartmentDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("CompartmentDefinition", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("CompartmentDefinition", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("CompartmentDefinition");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("CompartmentDefinition", params);
    }
}

// // # MedicinalProductIngredient API                                                                                                          #
// 
service /fhir/r4/MedicinalProductIngredient on new fhirr4:Listener(config = r4_api_config:medicinalproductingredientApiConfig) {
    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("MedicinalProductIngredient", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns MedicinalProductIngredient|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("MedicinalProductIngredient", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicinalProductIngredient, "MedicinalProductIngredient");
        return <MedicinalProductIngredient|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns MedicinalProductIngredient|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("MedicinalProductIngredient", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicinalProductIngredient, "MedicinalProductIngredient");
        return <MedicinalProductIngredient|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, MedicinalProductIngredient medicinalproductingredient) returns MedicinalProductIngredient|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("MedicinalProductIngredient", medicinalproductingredient.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicinalProductIngredient, "MedicinalProductIngredient");
        return <MedicinalProductIngredient|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, MedicinalProductIngredient medicinalproductingredient) returns MedicinalProductIngredient|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("MedicinalProductIngredient", id, medicinalproductingredient.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicinalProductIngredient, "MedicinalProductIngredient");
        return <MedicinalProductIngredient|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns MedicinalProductIngredient|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("MedicinalProductIngredient", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicinalProductIngredient, "MedicinalProductIngredient");
        return <MedicinalProductIngredient|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("MedicinalProductIngredient", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("MedicinalProductIngredient", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("MedicinalProductIngredient");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("MedicinalProductIngredient", params);
    }
}

// // # MedicationKnowledge API                                                                                                          #
// 
service /fhir/r4/MedicationKnowledge on new fhirr4:Listener(config = r4_api_config:medicationknowledgeApiConfig) {
    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("MedicationKnowledge", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns MedicationKnowledge|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("MedicationKnowledge", id);
        if result is any {
            return <MedicationKnowledge>result;
        }
        return result;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns MedicationKnowledge|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("MedicationKnowledge", id, vid);
        if result is any {
            return <MedicationKnowledge>result;
        }
        return result;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, MedicationKnowledge medicationknowledge) returns MedicationKnowledge|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("MedicationKnowledge", medicationknowledge.toJson());
        if result is any {
            return <MedicationKnowledge>result;
        }
        return result;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, MedicationKnowledge medicationknowledge) returns MedicationKnowledge|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("MedicationKnowledge", id, medicationknowledge.toJson());
        if result is any {
            return <MedicationKnowledge>result;
        }
        return result;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns MedicationKnowledge|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("MedicationKnowledge", id, patch);
        if result is any {
            return <MedicationKnowledge>result;
        }
        return result;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("MedicationKnowledge", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("MedicationKnowledge", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("MedicationKnowledge");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("MedicationKnowledge", params);
    }
}

// // # Patient API                                                                                                          #
// 
service /fhir/r4/Patient on new fhirr4:Listener(config = r4_api_config:patientApiConfig) {
    // Everything operation - returns the Patient and all related resources
    resource function get [string id]/\$everything(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performEverythingOperation("Patient", id);
    }

    // Summary operation - returns the Patient IPS summary
    resource function get [string id]/\$summary(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performIpsSummaryOperation("Patient", id);
    }

    // Patient-specific export operation - exports data for a specific patient (async)
    resource function get [string id]/\$export(r4:FHIRContext fhirContext, http:Request request) returns http:Response|r4:FHIRError {
        return initiateExportOperation("Patient", fhirContext, id);
    }

    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("Patient", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns Patient|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("Patient", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Patient, "Patient");
        return <Patient|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns Patient|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("Patient", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Patient, "Patient");
        return <Patient|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, Patient patient) returns Patient|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("Patient", patient.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Patient, "Patient");
        return <Patient|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, Patient patient) returns Patient|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("Patient", id, patient.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Patient, "Patient");
        return <Patient|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns Patient|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("Patient", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Patient, "Patient");
        return <Patient|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("Patient", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("Patient", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("Patient");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("Patient", params);
    }
}

// // # Coverage API                                                                                                          #
// 
service /fhir/r4/Coverage on new fhirr4:Listener(config = r4_api_config:coverageApiConfig) {
    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("Coverage", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns Coverage|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("Coverage", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Coverage, "Coverage");
        return <Coverage|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns Coverage|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("Coverage", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Coverage, "Coverage");
        return <Coverage|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, Coverage coverage) returns Coverage|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("Coverage", coverage.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Coverage, "Coverage");
        return <Coverage|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, Coverage coverage) returns Coverage|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("Coverage", id, coverage.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Coverage, "Coverage");
        return <Coverage|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns Coverage|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("Coverage", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Coverage, "Coverage");
        return <Coverage|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("Coverage", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("Coverage", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("Coverage");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("Coverage", params);
    }
}

// // # QuestionnaireResponse API                                                                                                          #
// 
service /fhir/r4/QuestionnaireResponse on new fhirr4:Listener(config = r4_api_config:questionnaireresponseApiConfig) {
    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("QuestionnaireResponse", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns QuestionnaireResponse|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("QuestionnaireResponse", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, QuestionnaireResponse, "QuestionnaireResponse");
        return <QuestionnaireResponse|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns QuestionnaireResponse|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("QuestionnaireResponse", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, QuestionnaireResponse, "QuestionnaireResponse");
        return <QuestionnaireResponse|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, QuestionnaireResponse questionnaireresponse) returns QuestionnaireResponse|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("QuestionnaireResponse", questionnaireresponse.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, QuestionnaireResponse, "QuestionnaireResponse");
        return <QuestionnaireResponse|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, QuestionnaireResponse questionnaireresponse) returns QuestionnaireResponse|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("QuestionnaireResponse", id, questionnaireresponse.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, QuestionnaireResponse, "QuestionnaireResponse");
        return <QuestionnaireResponse|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns QuestionnaireResponse|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("QuestionnaireResponse", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, QuestionnaireResponse, "QuestionnaireResponse");
        return <QuestionnaireResponse|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("QuestionnaireResponse", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("QuestionnaireResponse", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("QuestionnaireResponse");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("QuestionnaireResponse", params);
    }
}

// // # CoverageEligibilityRequest API                                                                                                          #
// 
service /fhir/r4/CoverageEligibilityRequest on new fhirr4:Listener(config = r4_api_config:coverageeligibilityrequestApiConfig) {
    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("CoverageEligibilityRequest", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns CoverageEligibilityRequest|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("CoverageEligibilityRequest", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, CoverageEligibilityRequest, "CoverageEligibilityRequest");
        return <CoverageEligibilityRequest|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns CoverageEligibilityRequest|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("CoverageEligibilityRequest", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, CoverageEligibilityRequest, "CoverageEligibilityRequest");
        return <CoverageEligibilityRequest|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, CoverageEligibilityRequest coverageeligibilityrequest) returns CoverageEligibilityRequest|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("CoverageEligibilityRequest", coverageeligibilityrequest.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, CoverageEligibilityRequest, "CoverageEligibilityRequest");
        return <CoverageEligibilityRequest|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, CoverageEligibilityRequest coverageeligibilityrequest) returns CoverageEligibilityRequest|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("CoverageEligibilityRequest", id, coverageeligibilityrequest.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, CoverageEligibilityRequest, "CoverageEligibilityRequest");
        return <CoverageEligibilityRequest|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns CoverageEligibilityRequest|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("CoverageEligibilityRequest", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, CoverageEligibilityRequest, "CoverageEligibilityRequest");
        return <CoverageEligibilityRequest|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("CoverageEligibilityRequest", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("CoverageEligibilityRequest", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("CoverageEligibilityRequest");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("CoverageEligibilityRequest", params);
    }
}

// // # NamingSystem API                                                                                                          #
// 
service /fhir/r4/NamingSystem on new fhirr4:Listener(config = r4_api_config:namingsystemApiConfig) {
    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("NamingSystem", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns NamingSystem|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("NamingSystem", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, NamingSystem, "NamingSystem");
        return <NamingSystem|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns NamingSystem|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("NamingSystem", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, NamingSystem, "NamingSystem");
        return <NamingSystem|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, NamingSystem namingsystem) returns NamingSystem|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("NamingSystem", namingsystem.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, NamingSystem, "NamingSystem");
        return <NamingSystem|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, NamingSystem namingsystem) returns NamingSystem|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("NamingSystem", id, namingsystem.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, NamingSystem, "NamingSystem");
        return <NamingSystem|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns NamingSystem|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("NamingSystem", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, NamingSystem, "NamingSystem");
        return <NamingSystem|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("NamingSystem", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("NamingSystem", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("NamingSystem");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("NamingSystem", params);
    }
}

// // # MedicinalProductUndesirableEffect API                                                                                                          #
// 
service /fhir/r4/MedicinalProductUndesirableEffect on new fhirr4:Listener(config = r4_api_config:medicinalproductundesirableeffectApiConfig) {
    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("MedicinalProductUndesirableEffect", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns MedicinalProductUndesirableEffect|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("MedicinalProductUndesirableEffect", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicinalProductUndesirableEffect, "MedicinalProductUndesirableEffect");
        return <MedicinalProductUndesirableEffect|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns MedicinalProductUndesirableEffect|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("MedicinalProductUndesirableEffect", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicinalProductUndesirableEffect, "MedicinalProductUndesirableEffect");
        return <MedicinalProductUndesirableEffect|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, MedicinalProductUndesirableEffect medicinalproductundesirableeffect) returns MedicinalProductUndesirableEffect|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("MedicinalProductUndesirableEffect", medicinalproductundesirableeffect.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicinalProductUndesirableEffect, "MedicinalProductUndesirableEffect");
        return <MedicinalProductUndesirableEffect|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, MedicinalProductUndesirableEffect medicinalproductundesirableeffect) returns MedicinalProductUndesirableEffect|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("MedicinalProductUndesirableEffect", id, medicinalproductundesirableeffect.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicinalProductUndesirableEffect, "MedicinalProductUndesirableEffect");
        return <MedicinalProductUndesirableEffect|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns MedicinalProductUndesirableEffect|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("MedicinalProductUndesirableEffect", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicinalProductUndesirableEffect, "MedicinalProductUndesirableEffect");
        return <MedicinalProductUndesirableEffect|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("MedicinalProductUndesirableEffect", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("MedicinalProductUndesirableEffect", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("MedicinalProductUndesirableEffect");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("MedicinalProductUndesirableEffect", params);
    }
}

// // # ExampleScenario API                                                                                                          #
// 
service /fhir/r4/ExampleScenario on new fhirr4:Listener(config = r4_api_config:examplescenarioApiConfig) {
    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("ExampleScenario", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns ExampleScenario|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("ExampleScenario", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ExampleScenario, "ExampleScenario");
        return <ExampleScenario|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns ExampleScenario|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("ExampleScenario", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ExampleScenario, "ExampleScenario");
        return <ExampleScenario|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, ExampleScenario examplescenario) returns ExampleScenario|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("ExampleScenario", examplescenario.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ExampleScenario, "ExampleScenario");
        return <ExampleScenario|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, ExampleScenario examplescenario) returns ExampleScenario|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("ExampleScenario", id, examplescenario.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ExampleScenario, "ExampleScenario");
        return <ExampleScenario|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns ExampleScenario|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("ExampleScenario", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ExampleScenario, "ExampleScenario");
        return <ExampleScenario|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("ExampleScenario", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("ExampleScenario", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("ExampleScenario");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("ExampleScenario", params);
    }
}

// // # SupplyDelivery API                                                                                                          #
// 
service /fhir/r4/SupplyDelivery on new fhirr4:Listener(config = r4_api_config:supplydeliveryApiConfig) {
    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("SupplyDelivery", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns SupplyDelivery|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("SupplyDelivery", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, SupplyDelivery, "SupplyDelivery");
        return <SupplyDelivery|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns SupplyDelivery|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("SupplyDelivery", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, SupplyDelivery, "SupplyDelivery");
        return <SupplyDelivery|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, SupplyDelivery supplydelivery) returns SupplyDelivery|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("SupplyDelivery", supplydelivery.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, SupplyDelivery, "SupplyDelivery");
        return <SupplyDelivery|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, SupplyDelivery supplydelivery) returns SupplyDelivery|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("SupplyDelivery", id, supplydelivery.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, SupplyDelivery, "SupplyDelivery");
        return <SupplyDelivery|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns SupplyDelivery|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("SupplyDelivery", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, SupplyDelivery, "SupplyDelivery");
        return <SupplyDelivery|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("SupplyDelivery", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("SupplyDelivery", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("SupplyDelivery");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("SupplyDelivery", params);
    }
}

// // # Schedule API                                                                                                          #
// 
service /fhir/r4/Schedule on new fhirr4:Listener(config = r4_api_config:scheduleApiConfig) {
    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("Schedule", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns Schedule|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("Schedule", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Schedule, "Schedule");
        return <Schedule|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns Schedule|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("Schedule", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Schedule, "Schedule");
        return <Schedule|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, Schedule schedule) returns Schedule|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("Schedule", schedule.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Schedule, "Schedule");
        return <Schedule|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, Schedule schedule) returns Schedule|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("Schedule", id, schedule.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Schedule, "Schedule");
        return <Schedule|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns Schedule|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("Schedule", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Schedule, "Schedule");
        return <Schedule|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("Schedule", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("Schedule", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("Schedule");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("Schedule", params);
    }
}

// // # DeviceDefinition API                                                                                                          #
// 
service /fhir/r4/DeviceDefinition on new fhirr4:Listener(config = r4_api_config:devicedefinitionApiConfig) {
    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("DeviceDefinition", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns DeviceDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("DeviceDefinition", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, DeviceDefinition, "DeviceDefinition");
        return <DeviceDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns DeviceDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("DeviceDefinition", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, DeviceDefinition, "DeviceDefinition");
        return <DeviceDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, DeviceDefinition devicedefinition) returns DeviceDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("DeviceDefinition", devicedefinition.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, DeviceDefinition, "DeviceDefinition");
        return <DeviceDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, DeviceDefinition devicedefinition) returns DeviceDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("DeviceDefinition", id, devicedefinition.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, DeviceDefinition, "DeviceDefinition");
        return <DeviceDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns DeviceDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("DeviceDefinition", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, DeviceDefinition, "DeviceDefinition");
        return <DeviceDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("DeviceDefinition", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("DeviceDefinition", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("DeviceDefinition");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("DeviceDefinition", params);
    }
}

// // # ClinicalImpression API                                                                                                          #
// 
service /fhir/r4/ClinicalImpression on new fhirr4:Listener(config = r4_api_config:clinicalimpressionApiConfig) {
    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("ClinicalImpression", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns ClinicalImpression|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("ClinicalImpression", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ClinicalImpression, "ClinicalImpression");
        return <ClinicalImpression|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns ClinicalImpression|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("ClinicalImpression", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ClinicalImpression, "ClinicalImpression");
        return <ClinicalImpression|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, ClinicalImpression clinicalimpression) returns ClinicalImpression|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("ClinicalImpression", clinicalimpression.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ClinicalImpression, "ClinicalImpression");
        return <ClinicalImpression|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, ClinicalImpression clinicalimpression) returns ClinicalImpression|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("ClinicalImpression", id, clinicalimpression.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ClinicalImpression, "ClinicalImpression");
        return <ClinicalImpression|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns ClinicalImpression|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("ClinicalImpression", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, ClinicalImpression, "ClinicalImpression");
        return <ClinicalImpression|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("ClinicalImpression", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("ClinicalImpression", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("ClinicalImpression");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("ClinicalImpression", params);
    }
}

// // # PlanDefinition API                                                                                                          #
// 
service /fhir/r4/PlanDefinition on new fhirr4:Listener(config = r4_api_config:plandefinitionApiConfig) {
    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("PlanDefinition", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns PlanDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("PlanDefinition", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, PlanDefinition, "PlanDefinition");
        return <PlanDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns PlanDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("PlanDefinition", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, PlanDefinition, "PlanDefinition");
        return <PlanDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, PlanDefinition plandefinition) returns PlanDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("PlanDefinition", plandefinition.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, PlanDefinition, "PlanDefinition");
        return <PlanDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, PlanDefinition plandefinition) returns PlanDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("PlanDefinition", id, plandefinition.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, PlanDefinition, "PlanDefinition");
        return <PlanDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns PlanDefinition|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("PlanDefinition", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, PlanDefinition, "PlanDefinition");
        return <PlanDefinition|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("PlanDefinition", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("PlanDefinition", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("PlanDefinition");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("PlanDefinition", params);
    }
}

// // # MedicinalProductAuthorization API                                                                                                          #
// 
service /fhir/r4/MedicinalProductAuthorization on new fhirr4:Listener(config = r4_api_config:medicinalproductauthorizationApiConfig) {
    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("MedicinalProductAuthorization", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns MedicinalProductAuthorization|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("MedicinalProductAuthorization", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicinalProductAuthorization, "MedicinalProductAuthorization");
        return <MedicinalProductAuthorization|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns MedicinalProductAuthorization|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("MedicinalProductAuthorization", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicinalProductAuthorization, "MedicinalProductAuthorization");
        return <MedicinalProductAuthorization|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, MedicinalProductAuthorization medicinalproductauthorization) returns MedicinalProductAuthorization|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("MedicinalProductAuthorization", medicinalproductauthorization.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicinalProductAuthorization, "MedicinalProductAuthorization");
        return <MedicinalProductAuthorization|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, MedicinalProductAuthorization medicinalproductauthorization) returns MedicinalProductAuthorization|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("MedicinalProductAuthorization", id, medicinalproductauthorization.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicinalProductAuthorization, "MedicinalProductAuthorization");
        return <MedicinalProductAuthorization|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns MedicinalProductAuthorization|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("MedicinalProductAuthorization", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, MedicinalProductAuthorization, "MedicinalProductAuthorization");
        return <MedicinalProductAuthorization|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("MedicinalProductAuthorization", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("MedicinalProductAuthorization", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("MedicinalProductAuthorization");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("MedicinalProductAuthorization", params);
    }
}

// // # Claim API                                                                                                          #
// 
service /fhir/r4/Claim on new fhirr4:Listener(config = r4_api_config:claimApiConfig) {
    // Search for resources
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("Claim", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns Claim|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("Claim", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Claim, "Claim");
        return <Claim|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns Claim|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("Claim", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Claim, "Claim");
        return <Claim|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, Claim claim) returns Claim|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("Claim", claim.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Claim, "Claim");
        return <Claim|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, Claim claim) returns Claim|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("Claim", id, claim.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Claim, "Claim");
        return <Claim|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns Claim|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("Claim", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Claim, "Claim");
        return <Claim|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("Claim", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("Claim", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("Claim");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("Claim", params);
    }
}

// // # Location API                                                                                                          #
// 
service /fhir/r4/Location on new fhirr4:Listener(config = r4_api_config:locationApiConfig) {
    // Search for resources using /Location?params
    isolated resource function get .(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceSearch("Location", fhirContext);
    }

    // Read the current state of single resource based on its id.
    isolated resource function get [string id](r4:FHIRContext fhirContext) returns Location|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceRead("Location", id);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Location, "Location");
        return <Location|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Read the state of a specific version of a resource based on its id.
    isolated resource function get [string id]/_history/[string vid](r4:FHIRContext fhirContext) returns Location|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceVersionRead("Location", id, vid);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Location, "Location");
        return <Location|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Create a new resource.
    isolated resource function post .(r4:FHIRContext fhirContext, Location location) returns Location|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceCreate("Location", location.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Location, "Location");
        return <Location|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource completely.
    isolated resource function put [string id](r4:FHIRContext fhirContext, Location location) returns Location|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourceUpdate("Location", id, location.toJson());
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Location, "Location");
        return <Location|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Update the current state of a resource partially.
    isolated resource function patch [string id](r4:FHIRContext fhirContext, json patch) returns Location|r4:OperationOutcome|r4:FHIRError {
        any|r4:OperationOutcome|r4:FHIRError result = performResourcePatch("Location", id, patch);
        anydata|r4:OperationOutcome|r4:FHIRError converted = convertToTypedResource(result, Location, "Location");
        return <Location|r4:OperationOutcome|r4:FHIRError>converted;
    }

    // Delete a resource.
    isolated resource function delete [string id](r4:FHIRContext fhirContext) returns r4:OperationOutcome|r4:FHIRError {
        return performResourceDelete("Location", id);
    }

    // Retrieve the update history for a particular resource.
    isolated resource function get [string id]/_history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performResourceHistory("Location", id);
    }

    // Retrieve the update history for all resources.
    isolated resource function get _history(r4:FHIRContext fhirContext) returns r4:Bundle|r4:OperationOutcome|r4:FHIRError {
        return performAllResourceHistory("Location");
    }

    // Validate operation - accepts Parameters resource containing the resource to validate
    isolated resource function post \$validate(r4:FHIRContext fhirContext, Parameters params) returns r4:OperationOutcome|r4:FHIRError {
        return performValidateOperation("Location", params);
    }
}

